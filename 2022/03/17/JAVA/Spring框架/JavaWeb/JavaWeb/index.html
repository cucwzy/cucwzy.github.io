<!DOCTYPE html>

<html lang="en">

<head>
    
    <title>JavaWeb - Shuyan</title>
    <meta charset="UTF-8">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
    
    

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <meta name="description" content="JavaWeb一、Tomcat tomcat官网：http:&#x2F;&#x2F;tomcat.apache.org&#x2F;  1.1、tomcat启动 启动、关闭tomcat  可能遇到的问题： ​            1、Java环境变量没有配置 ​            2、乱码问题：配置文件中设置 1.2、tomcat配置 可以配置启动的端口号  tomcat的默认端口号为：8080 mysql：3306 ht">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaWeb">
<meta property="og:url" content="http://example.com/2022/03/17/JAVA/Spring%E6%A1%86%E6%9E%B6/JavaWeb/JavaWeb/index.html">
<meta property="og:site_name" content="Shuyan">
<meta property="og:description" content="JavaWeb一、Tomcat tomcat官网：http:&#x2F;&#x2F;tomcat.apache.org&#x2F;  1.1、tomcat启动 启动、关闭tomcat  可能遇到的问题： ​            1、Java环境变量没有配置 ​            2、乱码问题：配置文件中设置 1.2、tomcat配置 可以配置启动的端口号  tomcat的默认端口号为：8080 mysql：3306 ht">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210317225113582.png">
<meta property="og:image" content="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210317225203904.png">
<meta property="og:image" content="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210317225435335.png">
<meta property="og:image" content="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210318113724868.png">
<meta property="og:image" content="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210318113738086.png">
<meta property="og:image" content="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210318113750347.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20191102141905774.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTI0NTU0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20191102141918916.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTI0NTU0,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210318220210550.png">
<meta property="og:image" content="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210320004726070.png">
<meta property="og:image" content="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210320172123691.png">
<meta property="og:image" content="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210320180403649.png">
<meta property="og:image" content="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210323084508377.png">
<meta property="og:image" content="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210325121124401.png">
<meta property="article:published_time" content="2022-03-17T03:29:01.000Z">
<meta property="article:modified_time" content="2022-03-17T07:11:43.598Z">
<meta property="article:author" content="Shuyan">
<meta property="article:tag" content="JavaWeb">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210317225113582.png">
    <link rel="stylesheet" href="/lib/jquery.fancybox.min.css?v=1649075797949">
    
        <link rel="stylesheet" href="//at.alicdn.com/t/font_1038733_0xvrvpg9c0r.css">
    
    <link rel="stylesheet" href="/lib/mdui_043tiny/css/mdui.css?v=1649075797949">
    <link rel="stylesheet" href="/lib/iconfont/iconfont.css?v=1649075797949">
    <link rel="stylesheet" href="/css/style.css?v=1649075797949">
     
    
<meta name="generator" content="Hexo 5.4.0"></head>

<body class="mdui-drawer-body-left">
    
    <div id="nexmoe-background">
        <div class="nexmoe-bg" style="background-image: url(http://mms0.baidu.com/it/u=2467909075,3604847220&amp;fm=253&amp;app=138&amp;f=JPEG&amp;fmt=auto&amp;q=75?w=801&amp;h=500)"></div>
        <div class="mdui-appbar mdui-shadow-0">
            <div class="mdui-toolbar">
                <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon mdui-ripple"><i class="mdui-icon nexmoefont icon-menu"></i></a>
                <div class="mdui-toolbar-spacer"></div>
                <!--<a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>-->
                <a href="/" title="Shuyan" class="mdui-btn mdui-btn-icon"><img src="http://mms2.baidu.com/it/u=1730774443,2723245118&amp;fm=253&amp;app=120&amp;f=JPEG&amp;fmt=auto&amp;q=75?w=500&amp;h=500" alt="Shuyan"></a>
            </div>
        </div>
    </div>
    <div id="nexmoe-header">
        <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="Shuyan">
            <img src="http://mms2.baidu.com/it/u=1730774443,2723245118&amp;fm=253&amp;app=120&amp;f=JPEG&amp;fmt=auto&amp;q=75?w=500&amp;h=500" alt="Shuyan" alt="Shuyan">
        </a>
    </div>
    <div class="nexmoe-count">
        <div><span>Articles</span>42</div>
        <div><span>Tags</span>12</div>
        <div><span>Categories</span>20</div>
    </div>
    <div class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/" title="回到首页">
            <i class="mdui-list-item-icon nexmoefont icon-home"></i>
            <div class="mdui-list-item-content">
                回到首页
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/categories" title="文章归档">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                文章归档
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/about" title="梦华录">
            <i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
            <div class="mdui-list-item-content">
                梦华录
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/PY.html" title="我的朋友">
            <i class="mdui-list-item-icon nexmoefont icon-unorderedlist"></i>
            <div class="mdui-list-item-content">
                我的朋友
            </div>
        </a>
        
    </div>
    <aside id="nexmoe-sidebar">
    
    <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-search">
         
            <form id="search_form" action_e="https://cn.bing.com/search?q=site:nexmoe.com" onsubmit="return search();">
                <label><input id="search_value" name="q" type="search" placeholder="Search"></label>
            </form>
         
    </div>
</div>
    
    <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-social">
        <a class="mdui-ripple" href="https://qm.qq.com/cgi-bin/qm/qr?k=rd1wdMWxpIZJe5AIruJkY7xD8d68h031&noverify=0" target="_blank" mdui-tooltip="{content: 'QQ'}" style="color: rgb(249, 174, 8);background-color: rgba(249, 174, 8, .1);">
            <i class="nexmoefont icon-QQ"></i>
        </a><a class="mdui-ripple" href="https://space.bilibili.com/400417888" target="_blank" mdui-tooltip="{content: '哔哩哔哩'}" style="color: rgb(231, 106, 141);background-color: rgba(231, 106, 141, .15);">
            <i class="nexmoefont icon-bilibili"></i>
        </a><a class="mdui-ripple" href="https://github.com/nexmoe/" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color: rgb(25, 23, 23);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-github"></i>
        </a>
    </div>
</div>
    
    
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">Categories</h3>
    <div class="nexmoe-widget">

      <ul class="category-list">

        


        

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/C语言/">C语言</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/JAVA/">JAVA</a>
          <span class="category-list-count">20</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/JAVA/“Spring框架”/JavaWeb/">JavaWeb</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Leetcode/">Leetcode</a>
          <span class="category-list-count">12</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/JAVA/“Spring框架”/Mybaits/">Mybaits</a>
          <span class="category-list-count">6</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/C语言/STL/">STL</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/JAVA/“Spring框架”/Spring/">Spring</a>
          <span class="category-list-count">5</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/JAVA/“Spring框架”/SpringBoot/">SpringBoot</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/JAVA/“Spring框架”/SpringMVC/">SpringMVC</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Leetcode/sort/">sort</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/JAVA/“JVM”/">“JVM”</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/JAVA/“Spring框架”/">“Spring框架”</a>
          <span class="category-list-count">17</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Leetcode/二叉树/">二叉树</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Leetcode/剑指offer/">剑指offer</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Leetcode/动态规划/">动态规划</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Leetcode/线性表/数组/">数组</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Leetcode/算法/">算法</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Leetcode/线性表/">线性表</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/联邦学习/">联邦学习</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Leetcode/贪心算法/">贪心算法</a>
          <span class="category-list-count">1</span>
        </li>

        
      </ul>

    </div>
  </div>


    
    
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">Tag Cloud</h3>
    <div id="randomtagcloud" class="nexmoe-widget tagcloud">
      <a href="/tags/JVM/" style="font-size: 14px;">JVM</a> <a href="/tags/JavaWeb/" style="font-size: 14px;">JavaWeb</a> <a href="/tags/Leetcode/" style="font-size: 20px;">Leetcode</a> <a href="/tags/Mybaits/" style="font-size: 18px;">Mybaits</a> <a href="/tags/STL/" style="font-size: 14px;">STL</a> <a href="/tags/Spring/" style="font-size: 16px;">Spring</a> <a href="/tags/SpringBoot/" style="font-size: 12px;">SpringBoot</a> <a href="/tags/SpringMVC/" style="font-size: 10px;">SpringMVC</a> <a href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/" style="font-size: 10px;">二叉树</a> <a href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" style="font-size: 10px;">动态规划</a> <a href="/tags/%E6%90%9C%E7%B4%A2/" style="font-size: 12px;">搜索</a> <a href="/tags/%E8%81%94%E9%82%A6%E5%AD%A6%E4%B9%A0/" style="font-size: 12px;">联邦学习</a>
    </div>
    
  </div>
  <style>
    #nexmoe-header .nexmoe-widget-wrap .tagcloud a:nth-child(7n+1) {
    background-color: rgba(255,78,106,0.15);
    color: rgba(255,78,106,0.8);
    }
    #nexmoe-header .nexmoe-widget-wrap .tagcloud a:nth-child(7n+2) {
    background-color: rgba(255,170,115,0.15);
    color: #ffaa73;
    }
    #nexmoe-header .nexmoe-widget-wrap .tagcloud a:nth-child(7n+3) {
    background-color: rgba(254,212,102,0.15);
    color: #fed466;
    }
    #nexmoe-header .nexmoe-widget-wrap .tagcloud a:nth-child(7n+4) {
    background-color: rgba(60,220,130,0.15);
    color: #3cdc82;
    }
    #nexmoe-header .nexmoe-widget-wrap .tagcloud a:nth-child(7n+5) {
    background-color: rgba(100,220,240,0.15);
    color: #64dcf0;
    }
    #nexmoe-header .nexmoe-widget-wrap .tagcloud a:nth-child(7n+6) {
    background-color: rgba(100,185,255,0.15);
    color: #64b9ff;
    }
    #nexmoe-header .nexmoe-widget-wrap .tagcloud a:nth-child(7n+7) {
    background-color: rgba(180,180,255,0.15);
    color: #b4b4ff;
    }
    #nexmoe-content .nexmoe-post .nexmoe-post-meta {
    margin: 25px 0px;
    font-size: 0;
    }
    #nexmoe-content .nexmoe-post .nexmoe-post-meta a {
    border-radius: 20px;
    padding: 10px 18px;
    color: #fff;
    font-size: 14px;
    display: inline-block;
    margin-bottom: 5px;
    margin-right: 10px;
    }
    #nexmoe-content .nexmoe-post .nexmoe-post-meta a .nexmoefont {
    font-size: 14px;
    }
    #nexmoe-content .nexmoe-post .nexmoe-post-meta a:before,
    #nexmoe-content .nexmoe-post .nexmoe-post-meta i:before {
    margin-right: 5px;
    }
    #nexmoe-content .nexmoe-post .nexmoe-post-meta a:nth-child(7n+1) {
    background-color: rgba(255,78,106,0.15);
    color: #ff4e6a;
    }
    #nexmoe-content .nexmoe-post .nexmoe-post-meta a:nth-child(7n+2) {
    background-color: rgba(255,170,115,0.15);
    color: #ffaa73;
    }
    #nexmoe-content .nexmoe-post .nexmoe-post-meta a:nth-child(7n+3) {
    background-color: rgba(254,212,102,0.15);
    color: #fed466;
    }
    #nexmoe-content .nexmoe-post .nexmoe-post-meta a:nth-child(7n+4) {
    background-color: rgba(60,220,130,0.15);
    color: #3cdc82;
    }
    #nexmoe-content .nexmoe-post .nexmoe-post-meta a:nth-child(7n+5) {
    background-color: rgba(100,220,240,0.15);
    color: #64dcf0;
    }
    #nexmoe-content .nexmoe-post .nexmoe-post-meta a:nth-child(7n+6) {
    background-color: rgba(100,185,255,0.15);
    color: #64b9ff;
    }
    #nexmoe-content .nexmoe-post .nexmoe-post-meta a:nth-child(7n+7) {
    background-color: rgba(180,180,255,0.15);
    color: #b4b4ff;
    }
  </style>


    
</aside>
    <div class="nexmoe-copyright">
        &copy; 2022 Shuyan
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
        & <a href="https://github.com/theme-nexmoe/hexo-theme-nexmoe" target="_blank">Nexmoe</a>
        <br><a target="_blank" href=" "><img src="http://mms0.baidu.com/it/u=991445098,3809803602&fm=253&app=138&f=JPEG&fmt=auto&q=75?w=500&h=500" width="100px" ></a><script data-ad-client="ca-pub-2058306854838448" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    </div>
</div><!-- .nexmoe-drawer -->
    </div>
    <div id="nexmoe-content">
        <div class="nexmoe-primary">
            <div class="nexmoe-post">

  <article>
      
          <div class="nexmoe-post-cover" style="padding-bottom: 66.66666666666666%;"> 
              <img data-src="http://mms0.baidu.com/it/u=2467909075,3604847220&fm=253&app=138&f=JPEG&fmt=auto&q=75?w=801&h=500" data-sizes="auto" alt="JavaWeb" class="lazyload">
              <h1>JavaWeb</h1>
          </div>
      
      
      <div class="nexmoe-post-meta nexmoe-rainbow" style="margin:10px 0!important;">
    <a><i class="nexmoefont icon-calendar-fill"></i>2022年03月17日</a>
</div>

      

      <h1 id="JavaWeb"><a href="#JavaWeb" class="headerlink" title="JavaWeb"></a>JavaWeb</h1><h2 id="一、Tomcat"><a href="#一、Tomcat" class="headerlink" title="一、Tomcat"></a>一、Tomcat</h2><blockquote>
<p>tomcat官网：<a target="_blank" rel="noopener" href="http://tomcat.apache.org/">http://tomcat.apache.org/</a></p>
</blockquote>
<h3 id="1-1、tomcat启动"><a href="#1-1、tomcat启动" class="headerlink" title="1.1、tomcat启动"></a>1.1、tomcat启动</h3><p><img data-fancybox="gallery" data-sizes="auto" data-src="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210317225113582.png" alt="image-20210317225113582" class="lazyload"></p>
<p>启动、关闭tomcat</p>
<p><img data-fancybox="gallery" data-sizes="auto" data-src="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210317225203904.png" alt="image-20210317225203904" class="lazyload"></p>
<p>可能遇到的问题：</p>
<p>​            1、Java环境变量没有配置</p>
<p>​            2、乱码问题：配置文件中设置</p>
<h3 id="1-2、tomcat配置"><a href="#1-2、tomcat配置" class="headerlink" title="1.2、tomcat配置"></a>1.2、tomcat配置</h3><p><img data-fancybox="gallery" data-sizes="auto" data-src="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210317225435335.png" alt="image-20210317225435335" class="lazyload"></p>
<p>可以配置启动的<strong>端口号</strong></p>
<ul>
<li>tomcat的默认端口号为：8080</li>
<li>mysql：3306</li>
<li>http：80</li>
<li>https：443</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">&lt;Connectorport=&quot;8081&quot; protocol=&quot;HTTP/1.1&quot; connectionTimeout=&quot;20000&quot; redirectPort=&quot;8443&quot;/&gt;<br></code></pre></td></tr></table></figure>

<p>可以配置<strong>主机名称</strong></p>
<ul>
<li>默认主机名为: localhost —&gt;127.0.0.1<ul>
<li>默认网站:存放的位置为: webapps</li>
</ul>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">&lt;Hostname=&quot;www.baidu.com&quot; appBase=&quot;webapps&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;<br></code></pre></td></tr></table></figure>

<p><strong>网站是如何访问的？</strong></p>
<ul>
<li>输入一个域名: 回车</li>
<li></li>
</ul>
<p>这种需要在本机配置域名映射</p>
<p>C:\Windows\System32\drivers\etc下的hosts文件</p>
<p>127.0.0.1 <a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a></p>
<h3 id="1-3、搭建一个web网站"><a href="#1-3、搭建一个web网站" class="headerlink" title="1.3、搭建一个web网站"></a>1.3、搭建一个web网站</h3><p>将自己的war包项目放到tomcat中webapps目录下，然后启动tomcat即可</p>
<p>网站应该有的结构</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml">--webapps ：Tomcat服务器的web目录<br>-ROOT-myblog ：网站的目录名<br>- WEB-INF-classes : java程序<br>-lib：web应用所依赖的jar包<br>-web.xml ：网站配置文件<br>- index.html 默认的首页<br>-static-css-style.css-js-img-.....<br></code></pre></td></tr></table></figure>

<h3 id="1-4、启动多个不同端口的Tomcat"><a href="#1-4、启动多个不同端口的Tomcat" class="headerlink" title="1.4、启动多个不同端口的Tomcat"></a>1.4、启动多个不同端口的Tomcat</h3><p>​        一个服务器可能需要启动多个项目，为了方便，不同项目访问只需要通过不同的端口号区分。</p>
<p>​        修改端口只需修改三处即可，以<strong>tomcat8</strong>为例</p>
<p>1、<strong>shutdown端口</strong></p>
<p><img data-fancybox="gallery" data-sizes="auto" data-src="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210318113724868.png" alt="image-20210318113724868" class="lazyload"></p>
<p>2、<strong>HTTP端口</strong></p>
<p><img data-fancybox="gallery" data-sizes="auto" data-src="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210318113738086.png" alt="image-20210318113738086" class="lazyload"></p>
<p>3、<strong>AJP端口</strong></p>
<p><img data-fancybox="gallery" data-sizes="auto" data-src="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210318113750347.png" alt="image-20210318113750347" class="lazyload"></p>
<p>tomcat9版本不需要第三步了</p>
<p>注意：有时更新项目后不能得到及时刷新，这是可以清除缓存，进入tomcat目录下删除work文件夹里面的文件。</p>
<h2 id="二、HTTP"><a href="#二、HTTP" class="headerlink" title="二、HTTP"></a>二、HTTP</h2><h3 id="2-1、HTTP简介"><a href="#2-1、HTTP简介" class="headerlink" title="2.1、HTTP简介"></a>2.1、HTTP简介</h3><p>​        HTTP（超文本传输协议）是一个简单的请求-响应协议，它通常运行在TCP之上。</p>
<h3 id="2-2、两个时代"><a href="#2-2、两个时代" class="headerlink" title="2.2、两个时代"></a>2.2、两个时代</h3><ul>
<li>http1.0<ul>
<li>HTTP/1.0：客户端可以与web服务器连接后，只能获得一个web资源，断开连接（<strong>短连接</strong>）。</li>
</ul>
</li>
<li>http2.0<ul>
<li>HTTP/1.1：客户端可以与web服务器连接后，可以获得多个web资源（<strong>长连接</strong>）</li>
</ul>
</li>
</ul>
<h3 id="2-3、HTTP请求"><a href="#2-3、HTTP请求" class="headerlink" title="2.3、HTTP请求"></a>2.3、HTTP请求</h3><blockquote>
<p><strong>客户端—-&gt;发请求(request)—-&gt;服务端</strong></p>
</blockquote>
<p>​        访问百度：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml">Request URL: https://www.baidu.com/  请求地址<br>Request Method: GET    //请求方式get/post<br>Status Code:200 OK    //状态码<br>Remote(远程) Address:14.215.177.38:443//远程ip地址<br></code></pre></td></tr></table></figure>

<blockquote>
<p><strong>请求行</strong></p>
</blockquote>
<ul>
<li>请求行中的请求方式:GET</li>
<li>请求方式：GeT , POST , HEAD , Delete , PUT , Tract<ul>
<li>get 能够携带的参数比较少, 大小有限制 , 会在浏览器URL地址栏显示数据内容 ,不安全,但是高效</li>
<li>post 能够携带的参数无限制, 大小无限制 , 不会在浏览器URL地址栏显示数据内容 ,安全,但是不太高效</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>请求（消息）头</strong></p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml">Accept:text/html  //支持的数据类型<br>Accept-Encoding:gzip, deflate, br  //支持的编码格式<br>Accept-Language:zh-CN,zh;q=0.9//语言<br>Cache-Control:max-age=0//缓存控制<br>Connection:keep-alive  //是否长连接<br></code></pre></td></tr></table></figure>

<h3 id="2-4、HTTP响应"><a href="#2-4、HTTP响应" class="headerlink" title="2.4、HTTP响应"></a>2.4、HTTP响应</h3><blockquote>
<p><strong>服务端—-&gt;响应—-&gt;客户端</strong></p>
</blockquote>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-meta">Cache-Control</span>:<span class="hljs-string">private		缓存控制</span><br><span class="hljs-attr">Connection</span>:<span class="hljs-string">Keep-Alive		连接</span><br><span class="hljs-meta">Content-Encoding</span>:<span class="hljs-string">gzip    	编码</span><br><span class="hljs-meta">Content-Type</span>:<span class="hljs-string">text/html   	类型</span><br></code></pre></td></tr></table></figure>

<h4 id="2-4-1、响应体"><a href="#2-4-1、响应体" class="headerlink" title="2.4.1、响应体"></a>2.4.1、响应体</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xmsl">Accept：				告诉浏览器，它所支持的数据类型<br>Accept-Encoding：	支持哪种编码格式  GBK   UTF-8   GB2312  ISO8859-1<br>Accept-Language：	告诉浏览器，它的语言环境Cache-Control：缓存控制<br>Connection：			告诉浏览器，请求完成是断开还是保持连接<br>HOST：				主机....<br>Refresh：			告诉客户端，多久刷新一次；Location：让网页重新定位；<br>Location: 			让网页重新定位<br></code></pre></td></tr></table></figure>

<h4 id="2-4-2、响应状态码"><a href="#2-4-2、响应状态码" class="headerlink" title="2.4.2、响应状态码"></a>2.4.2、响应状态码</h4><p><img data-fancybox="gallery" data-sizes="auto" data-src="https://img-blog.csdnimg.cn/20191102141905774.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTI0NTU0,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" class="lazyload"></p>
<p><img data-fancybox="gallery" data-sizes="auto" data-src="https://img-blog.csdnimg.cn/20191102141918916.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzM3OTI0NTU0,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述" class="lazyload"></p>
<h3 id="2-5、Maven"><a href="#2-5、Maven" class="headerlink" title="2.5、Maven"></a>2.5、Maven</h3><h3 id="2-5-1-Maven项目架构管理工具"><a href="#2-5-1-Maven项目架构管理工具" class="headerlink" title="2.5.1 Maven项目架构管理工具"></a>2.5.1 Maven项目架构管理工具</h3><p>​        作用：导jar包</p>
<p>​        Maven 的核心思想：<strong>约定大于配置</strong></p>
<p>​                有约束不要去违反</p>
<p>​        Maven会规定好如何来写java代码，必须按照这个规定来。</p>
<h3 id="2-5-2下载安装Maven"><a href="#2-5-2下载安装Maven" class="headerlink" title="2.5.2下载安装Maven"></a>2.5.2下载安装Maven</h3><p>​        下载后解压就能用,和TOMCAT 一样</p>
<h3 id="2-5-3-配置环境变量"><a href="#2-5-3-配置环境变量" class="headerlink" title="2.5.3 配置环境变量"></a>2.5.3 配置环境变量</h3><p>​        在系统环境变量中</p>
<p>​        配置如下:</p>
<p>​                    M2_HOME maven下的bin目录</p>
<p>​                    MAVEN_HOME maven目录</p>
<p>​                    系统中path中配置 %MAVEN_HOME%\bin</p>
<h3 id="2-5-4-阿里云镜像"><a href="#2-5-4-阿里云镜像" class="headerlink" title="2.5.4 阿里云镜像"></a>2.5.4 阿里云镜像</h3><ul>
<li>镜像: mirrors<ul>
<li>作用: 加速下载</li>
<li>国内建议使用阿里镜像</li>
</ul>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mirror</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>nexus-aliyun<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mirrorOf</span>&gt;</span>*,!jeecg,!jeecg-snapshots<span class="hljs-tag">&lt;/<span class="hljs-name">mirrorOf</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>Nexus aliyun<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span> <br><span class="hljs-tag">&lt;/<span class="hljs-name">mirror</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="2-5-5-本地仓库"><a href="#2-5-5-本地仓库" class="headerlink" title="2.5.5 本地仓库"></a>2.5.5 本地仓库</h3><p>​        在本地的仓库，远程仓库;</p>
<p>​        建立一个本地仓库：<strong>localRepository</strong></p>
<h3 id="2-5-6-在IDEA中使用MAVEN"><a href="#2-5-6-在IDEA中使用MAVEN" class="headerlink" title="2.5.6 在IDEA中使用MAVEN"></a>2.5.6 在IDEA中使用MAVEN</h3><ol>
<li><p>启动IDEA</p>
</li>
<li><p>创建一个Maven项目</p>
</li>
<li><p>sav</p>
</li>
<li><p>等待自动导包,出现build success表示成功!!!</p>
</li>
<li><p>IDEA 中Maven的设置</p>
<p><strong>注意：</strong>IDEA项目创建成功后看一眼Maven的配置</p>
</li>
<li><p>到这里Maven在IDEA中的使用就配置完成了</p>
</li>
</ol>
<h3 id="2-5-7创建一个普通的Maven项目"><a href="#2-5-7创建一个普通的Maven项目" class="headerlink" title="2.5.7创建一个普通的Maven项目"></a>2.5.7创建一个普通的Maven项目</h3><p>将文件标记为指定文件1类型</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;C:\Users\hx\AppData\Roaming\Typora\typora-user-images\image-20210508222659273.png&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;image-20210508222659273&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;zoom: 67%;&quot;</span> /&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;C:\Users\hx\AppData\Roaming\Typora\typora-user-images\image-20210508223015644.png&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;image-20210508223015644&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;zoom:67%;&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="2-5-8-IDEA配置TOMECAT"><a href="#2-5-8-IDEA配置TOMECAT" class="headerlink" title="2.5.8 IDEA配置TOMECAT"></a>2.5.8 IDEA配置TOMECAT</h3><h3 id="2-5-9-pom文件"><a href="#2-5-9-pom文件" class="headerlink" title="2.5.9 pom文件"></a>2.5.9 pom文件</h3><p>pom.xml是Maven的核心配置文件</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--  在build中配置resources , 来防止我们资源导出失败的问题--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">excludes</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">exclude</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">exclude</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">exclude</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">exclude</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">excludes</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h2 id="三、Servlet"><a href="#三、Servlet" class="headerlink" title="三、Servlet"></a>三、Servlet</h2><h3 id="3-1、Servlet简介"><a href="#3-1、Servlet简介" class="headerlink" title="3.1、Servlet简介"></a>3.1、Servlet简介</h3><ul>
<li>Servlet就是sun公司开发动态web的一门技术</li>
<li>Sun在这些API中提供一个接口叫做：Servlet，如果你想开发一个Servlet程序，只需要完成两个小步骤：<ul>
<li>编写一个类，实现Servlet接口</li>
<li>把开发好的Java类部署到web服务器中。</li>
</ul>
</li>
</ul>
<p><strong>把实现了Servlet接口的Java程序叫做，Servlet</strong></p>
<h3 id="3-2、HelloServlet"><a href="#3-2、HelloServlet" class="headerlink" title="3.2、HelloServlet"></a>3.2、HelloServlet</h3><ol>
<li><p>构建一个普通的Maven项目, 删掉 src,以后我们的学习,就在项目中建立Moudle</p>
</li>
<li><p>关于Maven父子工程的理解</p>
</li>
</ol>
<p>  <strong>父项目中会有:</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">modules</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">module</span>&gt;</span>servlet-01<span class="hljs-tag">&lt;/<span class="hljs-name">module</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">modules</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>​        <strong>子项目中会有:</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>javaweb-02-servlet<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.zhu<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>​        父项目中的java子项目可以直接使用</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">son extend father<br></code></pre></td></tr></table></figure>

<p>​        <strong>Maven 环境优化</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml">1. 修改web.xml为最新<br>2. 将maven的结构搭建完整<br></code></pre></td></tr></table></figure>

<h4 id="3-2-1、编写一个servlet-程序"><a href="#3-2-1、编写一个servlet-程序" class="headerlink" title="3.2.1、编写一个servlet 程序"></a>3.2.1、编写一个servlet 程序</h4><ol>
<li>实现Servlet 接口 直接继承 HttpServlet</li>
<li>编写Serviet 的映射<ol>
<li>为什么写映射: 我们写的是JAVA程序,但是要通过浏览器访问,浏览器需要连接web浏览器, 所以我们需要在web服务中注册我们写的Servlet 还需要给他一个浏览器能够访问的路径</li>
</ol>
</li>
</ol>
<ul>
<li>导入依赖</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--添加Servlet和JSP依赖--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>javax.servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure>

<ul>
<li>编写servlet类继承HttpServlet</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HellowServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-comment">//由于gat或者post只是请求实现的不同方法,可以互相调用,业务逻辑一样</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        ServletOutputStream outputStream = resp.getOutputStream();<br>        PrintWriter writer = resp.getWriter();<span class="hljs-comment">///响应流</span><br>        writer.println(<span class="hljs-string">&quot;HellowServlet&quot;</span>);<br>    &#125;<br>    <br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        <span class="hljs-comment">// 直接调用doGet，逻辑相似</span><br>        doGet(req, resp);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="3-2-2、配置映射"><a href="#3-2-2、配置映射" class="headerlink" title="3.2.2、配置映射"></a>3.2.2、配置映射</h4><p>一、xml方式</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--注册servlet--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hellow<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com.javaweb.servlet.HellowServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><span class="hljs-comment">&lt;!--  servlet请求路径--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hellow<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hellow<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>二、注解方式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@WebServlet(&quot;/hi&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloServletextendsHttpServlet</span></span>&#123;<br>    ...<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li><p>配置tomcat</p>
<p>注意配置项目发布的路径</p>
</li>
<li><p>启动项目，访问路径</p>
</li>
</ul>
<h3 id="3-3、Servlet原理"><a href="#3-3、Servlet原理" class="headerlink" title="3.3、Servlet原理"></a>3.3、Servlet原理</h3><p>Servlet是由Web服务器调用，web服务器在收到浏览器请求之后，会：</p>
<p><img data-fancybox="gallery" data-sizes="auto" data-src="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210318220210550.png" alt="image-20210318220210550" class="lazyload"></p>
<h3 id="3-4、Mapping问题"><a href="#3-4、Mapping问题" class="headerlink" title="3.4、Mapping问题"></a>3.4、Mapping问题</h3><p>1、一个Servlet可以指定一个映射路径</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>2、一个Servlet可以指定多个映射路径</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello2<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello3<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello4<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello5<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>3、一个Servlet可以指定<strong>通用</strong>映射路径</p>
<ul>
<li>/hello/* ——&gt; /hellow后边不管写啥都返回当前带哦用的servlet-name 的方法</li>
<li>/* 默认通配符</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>4、默认请求路径</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--默认请求路径--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>5、指定一些后缀或者前缀等等….</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">	可以自定义后缀实现请求映射    </span><br><span class="hljs-comment">    注意点：*前面不能加项目映射的路径hello/sajdlkajda.qinjiang，只要以 .qinjiang  就能访问</span><br><span class="hljs-comment"> --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>*.qinjiang<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>&lt;/servlet-mapping<br></code></pre></td></tr></table></figure>

<p>6、优先级问题<br>        指定了固有的映射路径优先级最高，如果找不到就会走默认的处理请求（404）；</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--404--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>error<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com.kuang.servlet.ErrorServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>error<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="3-5、ServletContext"><a href="#3-5、ServletContext" class="headerlink" title="3.5、ServletContext"></a>3.5、ServletContext</h3><p>​        web容器在启动的时候，它会为每个web程序都创建一个对应的ServletContext对象，它代表了当前的web应用</p>
<h4 id="3-5-1、共享数据"><a href="#3-5-1、共享数据" class="headerlink" title="3.5.1、共享数据"></a>3.5.1、共享数据</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Serlvet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        <span class="hljs-comment">//this.getServletConfig()  //servlrt 配置</span><br>        <span class="hljs-comment">//this.getInitParameter()   //初始化参数</span><br>        <span class="hljs-comment">//this.getServletContext();   //servlet上下文</span><br>        ServletContext contxt = <span class="hljs-keyword">this</span>.getServletContext();<br>        String username = <span class="hljs-string">&quot;JOBB&quot;</span>; <span class="hljs-comment">//数据</span><br>        contxt.setAttribute(<span class="hljs-string">&quot;username&quot;</span>,username);<span class="hljs-comment">//将一个数据保存在了ServletContext中,  名字为: username 值: username</span><br>        System.out.println(<span class="hljs-string">&quot;欢迎&quot;</span>);<br>    &#125;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        doGet(req, resp);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ReadSerlvet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        <span class="hljs-comment">//数据</span><br>        ServletContext context = <span class="hljs-keyword">this</span>.getServletContext();<br>        String username = (String)context.getAttribute(<span class="hljs-string">&quot;username&quot;</span>);<br>        <span class="hljs-comment">//响应</span><br>        resp.setContentType(<span class="hljs-string">&quot;text/html&quot;</span>);<br>        resp.setCharacterEncoding(<span class="hljs-string">&quot;UTF-8&quot;</span>);<br>        resp.getWriter().println(<span class="hljs-string">&quot;姓名: &quot;</span>+username);<br>    &#125;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        doGet(req, resp);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>setnum<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com.zhu.servlet.Serlvet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>setnum<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>get<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com.zhu.servlet.ReadSerlvet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>get<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/get<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>必须先访问hello接口，然后访问get接口，才能获取name的值。</p>
<h4 id="3-5-2、获取初始化参数"><a href="#3-5-2、获取初始化参数" class="headerlink" title="3.5.2、获取初始化参数"></a>3.5.2、获取初始化参数</h4><p>web.xml中配置</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--Web的初始化配置--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">context-param</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>url<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>jdbc:mysql://localhost:3306/mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">context-param</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>java中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ServletContext</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        javax.servlet.ServletContext context = <span class="hljs-keyword">this</span>.getServletContext();<br>        String url = context.getInitParameter(<span class="hljs-string">&quot;url&quot;</span>);<br>        resp.getWriter().println(url);<br>    &#125;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doPut</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        doGet(req, resp);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="3-5-3、请求转发"><a href="#3-5-3、请求转发" class="headerlink" title="3.5.3、请求转发"></a>3.5.3、请求转发</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ServletrequestDispatcher</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;进入了ServletrequestDispatcher&quot;</span>);<br>        ServletContext context = <span class="hljs-keyword">this</span>.getServletContext();<br>        <br>        <span class="hljs-comment">//RequestDispatcher url = context.getRequestDispatcher(&quot;url&quot;);//转发路径 格式: /url  /路径</span><br>        <span class="hljs-comment">//url.forward(req,resp);//调用forward 转发</span><br>        context.getRequestDispatcher(<span class="hljs-string">&quot;/url&quot;</span>).forward(req,resp);<span class="hljs-comment">//合写</span><br>    &#125;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        doGet(req, resp);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="3-5-4、读取资源文件"><a href="#3-5-4、读取资源文件" class="headerlink" title="3.5.4、读取资源文件"></a>3.5.4、读取资源文件</h4><p>编写b.properties文件</p>
<ul>
<li>在java目录下新建properties</li>
<li>在resources目录下新建properties</li>
</ul>
<p>发现: 都被打包到了同一路径下: classes,俗称为类路径</p>
<p>思路: 需要一个<strong>文件流</strong>；</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">username</span> = <span class="hljs-string">Mack</span><br><span class="hljs-attr">id</span> = <span class="hljs-string">00001</span><br><span class="hljs-attr">passworld</span> = <span class="hljs-string">123456789</span><br></code></pre></td></tr></table></figure>

<p><img data-fancybox="gallery" data-sizes="auto" data-src="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210320004726070.png" alt="image-20210320004726070" class="lazyload"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ServletReadPropise</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        ServletContext context = <span class="hljs-keyword">this</span>.getServletContext();<br>        InputStream is = context.getResourceAsStream(<span class="hljs-string">&quot;/WEB-INF/classes/db.propise&quot;</span>);<br>        Properties prop = <span class="hljs-keyword">new</span> Properties();<br>        prop.load(is);<br>        String username = prop.getProperty(<span class="hljs-string">&quot;username&quot;</span>);<br>        String id = prop.getProperty(<span class="hljs-string">&quot;id&quot;</span>);<br>        String passworld = prop.getProperty(<span class="hljs-string">&quot;passworld&quot;</span>);<br>        resp.getWriter().println(username+<span class="hljs-string">&quot;, &quot;</span>+passworld+<span class="hljs-string">&quot;, &quot;</span>+id);<br>    &#125;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        doGet(req, resp); <br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="3-6、HttpServletResponse"><a href="#3-6、HttpServletResponse" class="headerlink" title="3.6、HttpServletResponse"></a>3.6、HttpServletResponse</h3><p>​        web服务器接收到客户端的http请求，针对这个请求，分别创建一个代表请求的HttpServletRequest对象，代表响应的一个HttpServletResponse；</p>
<ul>
<li>如果要获取客户端请求过来的参数：<ul>
<li>HttpServlet<strong>Request</strong></li>
</ul>
</li>
<li>如果要给客户端响应一些信息：<ul>
<li>HttpServlet<strong>Response</strong></li>
</ul>
</li>
</ul>
<h4 id="3-6-1、简单分类"><a href="#3-6-1、简单分类" class="headerlink" title="3.6.1、简单分类"></a>3.6.1、简单分类</h4><p>​        负责向浏览器发送数据的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function">ServletOutputStream <span class="hljs-title">getOutputStream</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException</span>;<span class="hljs-comment">//y</span><br><span class="hljs-function">PrintWriter <span class="hljs-title">getWriter</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException</span>;<span class="hljs-comment">//一般中文用</span><br></code></pre></td></tr></table></figure>

<p><strong>负责向浏览器发送响应头的方法：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setCharacterEncoding</span><span class="hljs-params">(String var1)</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setContentLength</span><span class="hljs-params">(<span class="hljs-keyword">int</span> var1)</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setContentLengthLong</span><span class="hljs-params">(<span class="hljs-keyword">long</span> var1)</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setContentType</span><span class="hljs-params">(String var1)</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setDateHeader</span><span class="hljs-params">(String var1,<span class="hljs-keyword">long</span> var2)</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addDateHeader</span><span class="hljs-params">(String var1,<span class="hljs-keyword">long</span> var2)</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setHeader</span><span class="hljs-params">(String var1,String var2)</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addHeader</span><span class="hljs-params">(String var1,String var2)</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setIntHeader</span><span class="hljs-params">(String var1,<span class="hljs-keyword">int</span> var2)</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addIntHeader</span><span class="hljs-params">(String var1,<span class="hljs-keyword">int</span> var2)</span></span>;<br></code></pre></td></tr></table></figure>

<p><strong>响应的状态码：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/*200：请求响应成功 200</span><br><span class="hljs-comment">3xx：请求重定向</span><br><span class="hljs-comment">- 重定向：你重新到我给你新位置去；</span><br><span class="hljs-comment">4xx：找不到资源 404</span><br><span class="hljs-comment">- 资源不存在；</span><br><span class="hljs-comment">5xx：服务器代码错误 500 502:网关错误</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">int</span> SC_CONTINUE =<span class="hljs-number">100</span>;<br><span class="hljs-keyword">int</span> SC_SWITCHING_PROTOCOLS =<span class="hljs-number">101</span>;<br><span class="hljs-keyword">int</span> SC_OK =<span class="hljs-number">200</span>;<br><span class="hljs-keyword">int</span> SC_CREATED =<span class="hljs-number">201</span>;<br><span class="hljs-keyword">int</span> SC_ACCEPTED =<span class="hljs-number">202</span>;<br><span class="hljs-keyword">int</span> SC_NON_AUTHORITATIVE_INFORMATION =<span class="hljs-number">203</span>;<br><span class="hljs-keyword">int</span> SC_NO_CONTENT =<span class="hljs-number">204</span>;<br><span class="hljs-keyword">int</span> SC_RESET_CONTENT =<span class="hljs-number">205</span>;<br><span class="hljs-keyword">int</span> SC_PARTIAL_CONTENT =<span class="hljs-number">206</span>;<br><span class="hljs-keyword">int</span> SC_MULTIPLE_CHOICES =<span class="hljs-number">300</span>;<br><span class="hljs-keyword">int</span> SC_MOVED_PERMANENTLY =<span class="hljs-number">301</span>;<br><span class="hljs-keyword">int</span> SC_MOVED_TEMPORARILY =<span class="hljs-number">302</span>;<br><span class="hljs-keyword">int</span> SC_FOUND =<span class="hljs-number">302</span>;<br><span class="hljs-keyword">int</span> SC_SEE_OTHER =<span class="hljs-number">303</span>;<br><span class="hljs-keyword">int</span> SC_NOT_MODIFIED =<span class="hljs-number">304</span>;<br><span class="hljs-keyword">int</span> SC_USE_PROXY =<span class="hljs-number">305</span>;<br><span class="hljs-keyword">int</span> SC_TEMPORARY_REDIRECT =<span class="hljs-number">307</span>;<br><span class="hljs-keyword">int</span> SC_BAD_REQUEST =<span class="hljs-number">400</span>;<br><span class="hljs-keyword">int</span> SC_UNAUTHORIZED =<span class="hljs-number">401</span>;<br><span class="hljs-keyword">int</span> SC_PAYMENT_REQUIRED =<span class="hljs-number">402</span>;<br><span class="hljs-keyword">int</span> SC_FORBIDDEN =<span class="hljs-number">403</span>;<br><span class="hljs-keyword">int</span> SC_NOT_FOUND =<span class="hljs-number">404</span>;<br><span class="hljs-keyword">int</span> SC_METHOD_NOT_ALLOWED =<span class="hljs-number">405</span>;<br><span class="hljs-keyword">int</span> SC_NOT_ACCEPTABLE =<span class="hljs-number">406</span>;<br><span class="hljs-keyword">int</span> SC_PROXY_AUTHENTICATION_REQUIRED =<span class="hljs-number">407</span>;<br><span class="hljs-keyword">int</span> SC_REQUEST_TIMEOUT =<span class="hljs-number">408</span>;<br><span class="hljs-keyword">int</span> SC_CONFLICT =<span class="hljs-number">409</span>;<br><span class="hljs-keyword">int</span> SC_GONE =<span class="hljs-number">410</span>;<br><span class="hljs-keyword">int</span> SC_LENGTH_REQUIRED =<span class="hljs-number">411</span>;<br><span class="hljs-keyword">int</span> SC_PRECONDITION_FAILED =<span class="hljs-number">412</span>;<br><span class="hljs-keyword">int</span> SC_REQUEST_ENTITY_TOO_LARGE =<span class="hljs-number">413</span>;<br><span class="hljs-keyword">int</span> SC_REQUEST_URI_TOO_LONG =<span class="hljs-number">414</span>;<br><span class="hljs-keyword">int</span> SC_UNSUPPORTED_MEDIA_TYPE =<span class="hljs-number">415</span>;<br><span class="hljs-keyword">int</span> SC_REQUESTED_RANGE_NOT_SATISFIABLE =<span class="hljs-number">416</span>;<br><span class="hljs-keyword">int</span> SC_EXPECTATION_FAILED =<span class="hljs-number">417</span>;<br><span class="hljs-keyword">int</span> SC_INTERNAL_SERVER_ERROR =<span class="hljs-number">500</span>;<br><span class="hljs-keyword">int</span> SC_NOT_IMPLEMENTED =<span class="hljs-number">501</span>;<br><span class="hljs-keyword">int</span> SC_BAD_GATEWAY =<span class="hljs-number">502</span>;<br><span class="hljs-keyword">int</span> SC_SERVICE_UNAVAILABLE =<span class="hljs-number">503</span>;<br><span class="hljs-keyword">int</span> SC_GATEWAY_TIMEOUT =<span class="hljs-number">504</span>;<br><span class="hljs-keyword">int</span> SC_HTTP_VERSION_NOT_SUPPORTED =<span class="hljs-number">505</span>;<br></code></pre></td></tr></table></figure>

<h4 id="常见应用"><a href="#常见应用" class="headerlink" title="常见应用"></a>常见应用</h4><h4 id="3-6-2、下载文件"><a href="#3-6-2、下载文件" class="headerlink" title="3.6.2、下载文件"></a>3.6.2、下载文件</h4><ol>
<li>要获取下载文件的路径</li>
<li>下载的文件名是啥？</li>
<li>设置想办法让浏览器能够支持下载我们需要的东西</li>
<li>获取下载文件的输入流</li>
<li>创建缓冲区</li>
<li>获取OutputStream对象</li>
<li>将FileOutputStream流写入到buffer缓冲区</li>
<li>使用OutputStream将缓冲区中的数据输出到客户端！</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.zhu;<br><span class="hljs-keyword">import</span> javax.servlet.ServletContext;<br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.ServletOutputStream;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.FileInputStream;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.util.Properties;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Servlet_04_FileDown</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>		<span class="hljs-comment">// 1. 要获取下载文件的路径</span><br>        String realPath = <span class="hljs-string">&quot;D:\\IDEA_project\\JavaWeb\\response\\target\\classes\\60599be88322e6675c2d7c68.jpg&quot;</span>;<br>        System.out.println(<span class="hljs-string">&quot;下载的文件的路径: &quot;</span>+realPath);<br>		<span class="hljs-comment">// 2. 下载的文件名是啥？</span><br>        String filename = realPath.substring(realPath.indexOf(<span class="hljs-string">&quot;\\&quot;</span>) + <span class="hljs-number">1</span>);<br>		<span class="hljs-comment">// 3. 设置想办法让浏览器能够支持下载我们需要的东西</span><br>        resp.setHeader(<span class="hljs-string">&quot;Content-Disposition&quot;</span>,<span class="hljs-string">&quot;attachment;filename= &quot;</span>+ filename);<br>		<span class="hljs-comment">// 4. 获取下载文件的输入流</span><br>        FileInputStream in = <span class="hljs-keyword">new</span> FileInputStream(realPath);<br>		<span class="hljs-comment">// 5. 创建缓冲区</span><br>        <span class="hljs-keyword">int</span> length = <span class="hljs-number">0</span>;<br>         <span class="hljs-keyword">byte</span>[]buffer = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">1024</span>];<br>		<span class="hljs-comment">// 6. 获取OutputStream对象</span><br>        ServletOutputStream out= resp.getOutputStream();<br>		<span class="hljs-comment">// 7. 将FileOutputStream流写入到buffer缓冲区</span><br>        <span class="hljs-comment">// 8. 使用OutputStream将缓冲区中的数据输出到客户端！</span><br>        <span class="hljs-keyword">while</span> ((length=in.read(buffer))&gt;<span class="hljs-number">0</span>)&#123;<br>            out.write(buffer,<span class="hljs-number">0</span>,length);<br>        &#125;<br>		<span class="hljs-comment">// 9.关闭流</span><br>        in.close();<br>        out.close();<br>    &#125;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        <span class="hljs-keyword">super</span>.doGet(req, resp);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="3-6-3、验证码功能"><a href="#3-6-3、验证码功能" class="headerlink" title="3.6.3、验证码功能"></a>3.6.3、验证码功能</h4><ul>
<li>前端实现</li>
<li>后端实现，需要用到Java的图片类，生产一个图片</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@WebServlet(&quot;/img&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ImageServletextendsHttpServlet</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req,HttpServletResponse resp)</span>throwsServletException,IOException</span>&#123;<br>        <span class="hljs-comment">//如何让浏览器3秒自动刷新一次;        </span><br>        resp.setHeader(<span class="hljs-string">&quot;refresh&quot;</span>,<span class="hljs-string">&quot;3&quot;</span>);<br>        <br>        <span class="hljs-comment">//在内存中创建一个图片</span><br>        BufferedImage image =newBufferedImage(<span class="hljs-number">80</span>,<span class="hljs-number">20</span>,BufferedImage.TYPE_INT_RGB);<br>        <span class="hljs-comment">//得到图片</span><br>        Graphics2D g =(Graphics2D) image.getGraphics();<br>        <br>        <span class="hljs-comment">//笔</span><br>        <span class="hljs-comment">//设置图片的背景颜色        </span><br>        g.setColor(Color.white);        <br>        g.fillRect(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">80</span>,<span class="hljs-number">20</span>);<br>        <br>        <span class="hljs-comment">//给图片写数据        </span><br>        g.setColor(Color.BLUE);        <br>        g.setFont(newFont(<span class="hljs-keyword">null</span>,Font.BOLD,<span class="hljs-number">20</span>));        <br>        g.drawString(makeNum(),<span class="hljs-number">0</span>,<span class="hljs-number">20</span>);<br>        <br>        <span class="hljs-comment">//告诉浏览器，这个请求用图片的方式打开        </span><br>        resp.setContentType(<span class="hljs-string">&quot;image/jpeg&quot;</span>);<br>        <br>        <span class="hljs-comment">//网站存在缓存，不让浏览器缓存        </span><br>        resp.setDateHeader(<span class="hljs-string">&quot;expires&quot;</span>,-<span class="hljs-number">1</span>);        <br>        resp.setHeader(<span class="hljs-string">&quot;Cache-Control&quot;</span>,<span class="hljs-string">&quot;no-cache&quot;</span>);        <br>        resp.setHeader(<span class="hljs-string">&quot;Pragma&quot;</span>,<span class="hljs-string">&quot;no-cache&quot;</span>);<br>       <br>        <span class="hljs-comment">//把图片写给浏览器</span><br>        ImageIO.write(image,<span class="hljs-string">&quot;jpg&quot;</span>, resp.getOutputStream());<br>    &#125;<br>    <br>    <span class="hljs-comment">//生成随机数</span><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> String <span class="hljs-title">makeNum</span><span class="hljs-params">()</span></span>&#123;<br>        Random random =newRandom();<br>        String num = random.nextInt(<span class="hljs-number">9999999</span>)+<span class="hljs-string">&quot;&quot;</span>;<br>        StringBuffer sb =newStringBuffer();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i =<span class="hljs-number">0</span>; i &lt; <span class="hljs-number">7</span> - num.length(); i++)&#123;            <br>            sb.append(<span class="hljs-string">&quot;0&quot;</span>);<br>        &#125;        <br>        num = sb.toString()+ num;<span class="hljs-keyword">return</span> num;<br>    &#125;<br>    <br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException</span>&#123;        <br>        doGet(req, resp);<br>    &#125; <br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="3-6-4、实现重定向"><a href="#3-6-4、实现重定向" class="headerlink" title="3.6.4、实现重定向"></a>3.6.4、实现重定向</h4><p><img data-fancybox="gallery" data-sizes="auto" data-src="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210320172123691.png" alt="image-20210320172123691" class="lazyload"></p>
<p>​        B一个web资源收到客户端A请求后，B会通知A去访问另外一个web资源C，这个过程叫<strong>重定向</strong>。</p>
<p>常见场景：</p>
<ul>
<li>用户登录</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sendRedirect</span><span class="hljs-params">(String varl)</span>throw IOException</span>;<br></code></pre></td></tr></table></figure>

<ul>
<li>测试</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">         */</span><br>    resp.setHeader(<span class="hljs-string">&quot;Location&quot;</span>,<span class="hljs-string">&quot;/r/image&quot;</span>);<br>    resp.setStatus(<span class="hljs-number">302</span>);<br>    resp.sendRedirect(<span class="hljs-string">&quot;/r/image&quot;</span>);<span class="hljs-comment">//重定向</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>重定向和转发的区别？</strong></p>
<p>相同点:</p>
<ul>
<li>页面都会跳转</li>
</ul>
<p>不同点:</p>
<ul>
<li>请求转发 url不会产生变化， 重定向会发生变化</li>
<li>请求转发 可以携带参数， 重定向不能携带参数</li>
<li>请求转发 只能发送一个请求， 重定向至少发送两次请求</li>
</ul>
<h4 id="3-6-5、简单实现登录重定向"><a href="#3-6-5、简单实现登录重定向" class="headerlink" title="3.6.5、简单实现登录重定向"></a>3.6.5、简单实现登录重定向</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Servlet_06_RequestTest</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;进入请求&quot;</span>);<br>        <span class="hljs-comment">//处理请求</span><br>        <span class="hljs-comment">//从那个请求中获取参数</span><br>        String username = req.getParameter(<span class="hljs-string">&quot;username&quot;</span>);<br>        String password = req.getParameter(<span class="hljs-string">&quot;password&quot;</span>);<br>        System.out.println(username+<span class="hljs-string">&quot; : &quot;</span>+password);<br>        <span class="hljs-comment">//重定向时一定要注意路径问题  否则44</span><br>        resp.sendRedirect(<span class="hljs-string">&quot;/r/success.jsp&quot;</span>);<br>    &#125;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        doGet(req, resp);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="3-7、HttpServletRequest"><a href="#3-7、HttpServletRequest" class="headerlink" title="3.7、HttpServletRequest"></a>3.7、HttpServletRequest</h3><p>​        HttpServletRequest代表客户端的请求，用户通过Http协议访问服务器，HTTP请求中的所有信息会被封装到HttpServletRequest，通过这个HttpServletRequest的方法，获得客户端的所有信息；</p>
<h4 id="3-7-1-获取前端传递的参数-并-请求转发"><a href="#3-7-1-获取前端传递的参数-并-请求转发" class="headerlink" title="3.7.1. 获取前端传递的参数 并 请求转发"></a>3.7.1. 获取前端传递的参数 并 请求转发</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br>   <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>       String username = req.getParameter(<span class="hljs-string">&quot;username&quot;</span>);<br>       String password = req.getParameter(<span class="hljs-string">&quot;password&quot;</span>);<br>       String[] hobbies = req.getParameterValues(<span class="hljs-string">&quot;hobby&quot;</span>);<br>       System.out.println(<span class="hljs-string">&quot;--------------------------------------&quot;</span>);<br>       System.out.println(username);<br>       System.out.println(password);<br>       System.out.println(Arrays.toString(hobbies));<br>       System.out.println(<span class="hljs-string">&quot;--------------------------------------&quot;</span>);<br>       <span class="hljs-comment">//通过请求转发</span><br>       <span class="hljs-comment">//这里的/代表当前Web应用</span><br>       req.getRequestDispatcher(<span class="hljs-string">&quot;/success.jsp&quot;</span>).forward(req,resp);<br>       resp.setCharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br>   &#125;<br>   <span class="hljs-meta">@Override</span><br>   <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>       doGet(req, resp);<br>   &#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@WebServlet(&quot;/req&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ReqServletextendsHttpServlet</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req,HttpServletResponse resp)</span>throwsServletException,IOException</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;url路径：&quot;</span>+req.getRequestURL());<br>        System.out.println(<span class="hljs-string">&quot;uri路径：&quot;</span>+req.getRequestURI());<br>        System.out.println(<span class="hljs-string">&quot;context路径：&quot;</span>+req.getContextPath());<br>        req.getRequestDispatcher(<span class="hljs-string">&quot;/file&quot;</span>).forward(req,resp);<br>    &#125; <br>&#125;<br></code></pre></td></tr></table></figure>

<p><img data-fancybox="gallery" data-sizes="auto" data-src="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210320180403649.png" alt="image-20210320180403649" class="lazyload"></p>
<h2 id="四、Cookie、Session"><a href="#四、Cookie、Session" class="headerlink" title="四、Cookie、Session"></a>四、Cookie、Session</h2><h3 id="4-1、会话"><a href="#4-1、会话" class="headerlink" title="4.1、会话"></a>4.1、会话</h3><p>​        <strong>会话</strong>：用户打开一个浏览器，点击了很多超链接，访问多个web资源，关闭浏览器，这个过程可以称之为会话；</p>
<p>​        <strong>有状态会话</strong>：一个同学来过教室，下次再来教室，我们会知道这个同学，曾经来过，称之为有状态会话；</p>
<h3 id="4-2、保存会话的两种技术"><a href="#4-2、保存会话的两种技术" class="headerlink" title="4.2、保存会话的两种技术"></a>4.2、保存会话的两种技术</h3><p><strong>cookie</strong></p>
<ul>
<li>客户端技术（响应、请求）</li>
</ul>
<p><strong>session</strong></p>
<ul>
<li>服务器技术，利用这个技术，可以保存用户的会话信息？ 我们可以把信息或者数据放在Session中！</li>
</ul>
<h3 id="4-3、Cookie"><a href="#4-3、Cookie" class="headerlink" title="4.3、Cookie"></a>4.3、Cookie</h3><p><strong>cookie：一般会保存在本地的 用户目录下 appdata；</strong></p>
<p>一个网站cookie是否存在上限！<strong>聊聊细节问题</strong></p>
<ul>
<li>一个Cookie只能保存一个信息；</li>
<li>一个web站点可以给浏览器发送多个cookie，最多存放20个cookie；</li>
<li>Cookie大小有限制4kb；</li>
<li>300个cookie浏览器上限</li>
</ul>
<p><strong>删除Cookie；</strong></p>
<ul>
<li><p>不设置有效期，关闭浏览器，自动失效；（默认）</p>
</li>
<li><p>设置有效期时间为 0 ；</p>
</li>
</ul>
<p><strong>注意</strong></p>
<ul>
<li>cookie默认有效期是在浏览器关闭后失效，如果设置了有效期就在过期后失效</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>    <span class="hljs-comment">//服务器告诉你你来的时间,把时间封装成一个信件,下次来的时候带着</span><br>    <span class="hljs-comment">//解决中文乱码</span><br>    resp.setCharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br>    req.setCharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br>    <span class="hljs-comment">//响应</span><br>    PrintWriter out = resp.getWriter();<br>    <span class="hljs-comment">//Cookie ,服务端从客户端获取</span><br>    Cookie[] cookies = req.getCookies();<span class="hljs-comment">//返回数组,说明可能存在多个</span><br>    <span class="hljs-comment">//判断Cookie是否存在</span><br>    <span class="hljs-keyword">if</span> (cookies!=<span class="hljs-keyword">null</span>)&#123;<br>        <span class="hljs-comment">//如果存在怎么办</span><br>        out.write(<span class="hljs-string">&quot;When was your last visit: &quot;</span>);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;cookies.length ; i++) &#123;<br>            Cookie cookie =  cookies[i];<br>            <span class="hljs-comment">//或缺Cookie的名字</span><br>            <span class="hljs-keyword">if</span>(cookie.getName().equals(<span class="hljs-string">&quot;LastLoginTime&quot;</span>))&#123;<br>                <span class="hljs-comment">//获取cookie中的值</span><br>                <span class="hljs-keyword">long</span> LastLoginTime = Long.parseLong(cookie.getValue());<br>                Date date = <span class="hljs-keyword">new</span> Date(LastLoginTime);<br>                out.write(date.toLocaleString());<br>            &#125;<br>        &#125;<br>    &#125;<span class="hljs-keyword">else</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;This is your first visit&quot;</span>);<br>    &#125;<br>    <span class="hljs-comment">//服务器给客户端响应一个Cookie</span><br>    Cookie cookie = <span class="hljs-keyword">new</span> Cookie(<span class="hljs-string">&quot;LastLoginTime&quot;</span>, System.currentTimeMillis()+<span class="hljs-string">&quot;&quot;</span>);<br>    <span class="hljs-comment">//给cookie设置有效期为一天</span><br>    cookie.setMaxAge(<span class="hljs-number">24</span>*<span class="hljs-number">60</span>*<span class="hljs-number">60</span>);<br>    resp.addCookie(cookie);<br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java">Cookie[] cookie = req.getCookies();<span class="hljs-comment">//获得cookie</span><br>cookie.getName();<span class="hljs-comment">//获得cookie中的key</span><br>cookie.getValve();<span class="hljs-comment">//获得cookie中的value</span><br><span class="hljs-keyword">new</span> Cookie(<span class="hljs-string">&quot;LastLoginTime&quot;</span>, System.currentTimeMillis()+<span class="hljs-string">&quot;&quot;</span>);<span class="hljs-comment">//新建cookie</span><br>cookie.setMaxAge(<span class="hljs-number">24</span>*<span class="hljs-number">60</span>*<span class="hljs-number">60</span>);        <span class="hljs-comment">//给cookie设置有效期为一天</span><br>resp.addCookie(cookie);<span class="hljs-comment">//添加一个cookie</span><br></code></pre></td></tr></table></figure>

<p>编码与解码，防止乱码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@WebServlet(&quot;/c3&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CookieDemo2extendsHttpServlet</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req,HttpServletResponse resp)</span>throwsServletException,IOException</span>&#123;        resp.setContentType(<span class="hljs-string">&quot;text/html;charset=utf-8&quot;</span>);<br>       PrintWriter out = resp.getWriter();<br>       <span class="hljs-keyword">for</span>(Cookie cookie : req.getCookies())&#123;<br>           <span class="hljs-keyword">if</span>(cookie.getName().equals(<span class="hljs-string">&quot;name&quot;</span>))&#123;<br>               out.write(URLDecoder.decode(cookie.getValue(),<span class="hljs-string">&quot;utf-8&quot;</span>));<br>           &#125; <br>       &#125;<br>	 Cookie cookie = <span class="hljs-keyword">new</span> Cookie(<span class="hljs-string">&quot;name&quot;</span>,URLEncoder.encode(<span class="hljs-string">&quot;筱语&quot;</span>,<span class="hljs-string">&quot;utf-8&quot;</span>));        <br> 	 resp.addCookie(cookie);<br>	&#125; <br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="4-3、Session（重点）"><a href="#4-3、Session（重点）" class="headerlink" title="4.3、Session（重点）"></a>4.3、Session（重点）</h3><p>什么是session</p>
<ul>
<li>服务器会给每一个用户（浏览器）创建一个session对象</li>
<li>一个session独占一个浏览器，主要浏览器没有关闭，这个session就存在</li>
<li>用户登录后，整个网站它都可以访问——&gt;保存用户的信息，保存购物车的信息。</li>
</ul>
<p><img data-fancybox="gallery" data-sizes="auto" data-src="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210323084508377.png" alt="image-20210323084508377" class="lazyload"></p>
<ul>
<li>给session中存用户信息</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.zhu;<br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.*;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Servlet_09_Session</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        <span class="hljs-comment">// 解决乱码问题</span><br>        req.setCharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br>        resp.setCharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br>        resp.setContentType(<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>);<br>        <br>        <span class="hljs-comment">// 获得Session</span><br>        HttpSession session = req.getSession();<br>        <br>        <span class="hljs-comment">// 给Session存东西</span><br>		<span class="hljs-comment">// session.setAttribute(&quot;name&quot;,&quot;小狗&quot;);</span><br>        session.setAttribute(<span class="hljs-string">&quot;name&quot;</span>,<span class="hljs-keyword">new</span> Person(<span class="hljs-number">18</span>,<span class="hljs-string">&quot;小红&quot;</span>,<span class="hljs-number">123456789</span>));<br>        <span class="hljs-comment">// 获取Session的id</span><br>        String id = session.getId();<br>        System.out.println(id);<br>        <span class="hljs-comment">// 判断Session是不是新创建的</span><br>        <span class="hljs-keyword">boolean</span> aNew = session.isNew();<br>        <span class="hljs-keyword">if</span> (aNew)&#123;<br>            resp.getWriter().println(<span class="hljs-string">&quot;session创建成功! session id 为: &quot;</span>+id);<br>        &#125;<span class="hljs-keyword">else</span> &#123;<br>            resp.getWriter().println(<span class="hljs-string">&quot;session已经创建了id 为: &quot;</span>+id);<br>        &#125;<br>        <span class="hljs-comment">// session在创建的时候做了啥</span><br>        <span class="hljs-comment">// Cookie cookie = new Cookie(&quot;SESSIONID&quot;, id);</span><br>        <span class="hljs-comment">// resp.addCookie(cookie);</span><br>    &#125;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doPut</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        doGet(req, resp);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>获取session中存储的用户信息</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.zhu;<br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpSession;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Servlet_09_SessionGet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        <span class="hljs-comment">// 解决编码问题</span><br>        resp.setCharacterEncoding(<span class="hljs-string">&quot;utf8&quot;</span>);<br>        req.setCharacterEncoding(<span class="hljs-string">&quot;utf8&quot;</span>);<br>        resp.setContentType(<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>);<br>        <br>        <span class="hljs-comment">// 得到session</span><br>        HttpSession session = req.getSession();<br>        Person person = (Person) session.getAttribute(<span class="hljs-string">&quot;name&quot;</span>);<br>        System.out.println(person.toString());<br>    &#125;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        doGet(req, resp);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>每次新打开一个浏览器访问地址，都会新建一个session会话，也会向客户端存储一个值为sessionId的cookie。</p>
<h5 id="手动注销session"><a href="#手动注销session" class="headerlink" title="手动注销session"></a>手动注销session</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Servlet_10_SessionRemove</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        HttpSession session = req.getSession();<br>        session.removeAttribute(<span class="hljs-string">&quot;name&quot;</span>);<br>        session.invalidate();<span class="hljs-comment">//注销</span><br>    &#125;<br></code></pre></td></tr></table></figure>

<h5 id="设置session的失效时间，在web-xml中"><a href="#设置session的失效时间，在web-xml中" class="headerlink" title="设置session的失效时间，在web.xml中"></a>设置session的失效时间，在web.xml中</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--设置Session默认的失效时间--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">session-config</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--15分钟后Session自动失效，以分钟为单位--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">session-timeout</span>&gt;</span>15<span class="hljs-tag">&lt;/<span class="hljs-name">session-timeout</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">session-config</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h4 id="7天免登录案例实现"><a href="#7天免登录案例实现" class="headerlink" title="7天免登录案例实现"></a>7天免登录案例实现</h4><p>思路：session在一次会话后就会结束，所以可以通过servletContext来存储当前的session，以sessionId为key，session对象为值，然后将sessionId存在客户端的cookie中，每次获取用户信息先去cookie中查找是否有这个id，然后通过该id获取servletContext中的session对象实现。</p>
<ul>
<li>登录接口，将session存到ServletContext中</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@WebServlet(&quot;/ss1&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SessionAnextendsHttpServlet</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req,HttpServletResponse resp)</span>throwsServletException,IOException</span>&#123;        resp.setContentType(<span class="hljs-string">&quot;text/html;charset=utf-8&quot;</span>);<br> 	   HttpSession session = req.getSession();<br> 	   session.setAttribute(<span class="hljs-string">&quot;name&quot;</span>,<span class="hljs-string">&quot;小腿&quot;</span>);                                                                          String sessionId = session.getId();<br>       Cookie cookie =newCookie(<span class="hljs-string">&quot;session&quot;</span>,sessionId);        <br>       cookie.setMaxAge(Integer.MAX_VALUE);        <br>       resp.addCookie(cookie);<br>       <span class="hljs-comment">//存session对象</span><br>       <span class="hljs-keyword">this</span>.getServletContext().setAttribute(sessionId,session);       <br>       resp.getWriter().write(<span class="hljs-string">&quot;登录成功！&quot;</span>);<br> 	&#125; <br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>获取用户信息接口</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@WebServlet(&quot;/ss2&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SessionAn2extendsHttpServlet</span></span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req,HttpServletResponse resp)</span>throwsServletException,IOException</span>&#123;<br>        resp.setContentType(<span class="hljs-string">&quot;text/html;charset=utf-8&quot;</span>);<br>        String sId =<span class="hljs-string">&quot;&quot;</span>;<br>        <span class="hljs-keyword">for</span>(Cookie cookie : req.getCookies())&#123;<br>            <span class="hljs-keyword">if</span>(cookie.getName().equals(<span class="hljs-string">&quot;session&quot;</span>))&#123;                <br>                sId = cookie.getValue();<br>            &#125; <br>        &#125;<br>        HttpSession session = (HttpSession) <span class="hljs-keyword">this</span>.getServletContext().getAttribute(sId);<br>        String  name =(String)session.getAttribute(<span class="hljs-string">&quot;name&quot;</span>);        <br>        resp.getWriter().write(<span class="hljs-string">&quot;欢迎你，&quot;</span>+name);<br>	&#125; <br>&#125;<br></code></pre></td></tr></table></figure>

<p>​        先访问ss1接口，设置用户信息到session中，然后访问ss2接口就可以拿到用户信息了。将cookie过期时间设置为7天即可。当关闭浏览器后，下次直接访问ss2接口就能拿到用户信息，相当于不用再通过ss1接口登录了。</p>
<p><strong>注意：</strong>每次访问网站都会生成一个JsessionId在cookie中，而且会是不同的值。</p>
<h3 id="4-4、session与cookie异同"><a href="#4-4、session与cookie异同" class="headerlink" title="4.4、session与cookie异同"></a>4.4、session与cookie异同</h3><table>
<thead>
<tr>
<th align="left">COOKIE</th>
<th align="left">SESSION</th>
</tr>
</thead>
<tbody><tr>
<td align="left">存在客户端中，不安全</td>
<td align="left">存在服务端中，比较安全</td>
</tr>
<tr>
<td align="left">只支持存字符串数据</td>
<td align="left">支持任意数据类型</td>
</tr>
<tr>
<td align="left">单个cookie存的数据大小不能超过4k</td>
<td align="left">可存储数据远高于Cookie</td>
</tr>
</tbody></table>
<h3 id="4-5使用场景"><a href="#4-5使用场景" class="headerlink" title="4.5使用场景:"></a>4.5使用场景:</h3><ul>
<li>保存一个登录用户的信息</li>
<li>购物车信息</li>
<li>在整个网站中经常会使用的数据,我们将他保存在Session中</li>
</ul>
<h2 id="五、JSP"><a href="#五、JSP" class="headerlink" title="五、JSP"></a>五、JSP</h2><h3 id="5-1什么是JSP"><a href="#5-1什么是JSP" class="headerlink" title="5.1什么是JSP"></a>5.1什么是JSP</h3><p>Java Server Pages: java 服务端界面 也和Servlet一样,用于动态Web技术!</p>
<p>最大的特点:</p>
<ol>
<li>写JSP就像像写HTML                   </li>
<li>区别:                                 <ul>
<li>HTML只提供静态界面                                 </li>
<li>JSP可以嵌入JAVA代码,为用户提供动态数据</li>
</ul>
</li>
</ol>
<h3 id="5-2-JSP原理"><a href="#5-2-JSP原理" class="headerlink" title="5.2 JSP原理-"></a>5.2 JSP原理-</h3><p><strong>JSP 本质上</strong>是也是一个Servlet</p>
<ol>
<li><p>判断请求</p>
</li>
<li><p>内置一些对象</p>
<ol>
<li>输出页面前增加的代码</li>
</ol>
</li>
</ol>
<h3 id="5-3JSP基本语法"><a href="#5-3JSP基本语法" class="headerlink" title="5.3JSP基本语法"></a>5.3JSP基本语法</h3><p>任何语言都有自己的语法,jsp作为java技术的一种应用,也有一些自己的扩充语法(了解,知道即可!!)java所有语法都支持!!</p>
<h4 id="JSP表达式"><a href="#JSP表达式" class="headerlink" title="JSP表达式"></a>JSP表达式</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml">&lt;%--    jsp表达式<br>作用:用来将程序的输出,输出到客户端<br>&lt;%= bian&#x27;laing %&gt;<br>--%&gt;<br>&lt;%= new java.util.Date()%&gt;<br></code></pre></td></tr></table></figure>

<h4 id="JSP脚本片段"><a href="#JSP脚本片段" class="headerlink" title="JSP脚本片段"></a>JSP脚本片段</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml">&lt;%--  JSP脚本片段--%&gt;<br>&lt;%<br>    int sum = 0;<br>    for (int i = 0; i &lt;100 ; i++) &#123;<br>        sum++;<br>    &#125;<br>    System.out.println(&quot;<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>SUM=&quot;+sum+&quot;<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>&quot;);<br>%&gt;<br></code></pre></td></tr></table></figure>

<h4 id="JSP代码的在实现"><a href="#JSP代码的在实现" class="headerlink" title="JSP代码的在实现"></a>JSP代码的在实现</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml">&lt;%<br>    for (int i = 0; i &lt; 5; i++) &#123;<br>%&gt;<br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>HELLO,WOrLD<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>&lt;%<br>    &#125;<br>%&gt;<br>输出5个Hello World<br></code></pre></td></tr></table></figure>

<h4 id="JSP声明"><a href="#JSP声明" class="headerlink" title="JSP声明"></a>JSP声明</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml">&lt;%!<br>    static &#123;<br>        System.out.println(&quot;Loading Servlet...&quot;);<br>&#125;;<br>    private int globalVar = 0;<br>    public void kuang()&#123;<br>        System.out.println(&quot;进入了方法&quot;);<br>    &#125;<br>%&gt;<br></code></pre></td></tr></table></figure>

<p>jsp声明会被编译到jsp生成的java的类中其他的会被生成到_jspServlet方法中!</p>
<p>在jsp,嵌入java代码即可!</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml">&lt;%%&gt;<br>&lt;%=%&gt;<br>&lt;%!%&gt;<br>&lt;%--注释--%&gt;<br></code></pre></td></tr></table></figure>

<p>jsp的注释不会在客户端显示,但是HTML的就会!!</p>
<p>说明jsp会相较于html更安全</p>
<p><strong>EL表达式</strong></p>
<blockquote>
<p>在JSP页面的任何静态部分均可通过：${expression}来获取到指定表达式的值</p>
</blockquote>
<h4 id="jsp指令"><a href="#jsp指令" class="headerlink" title="jsp指令"></a>jsp指令</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">&lt;%@ page ...%&gt;<br></code></pre></td></tr></table></figure>

<h3 id="5-4-九大内置对象"><a href="#5-4-九大内置对象" class="headerlink" title="5.4 九大内置对象"></a>5.4 九大内置对象</h3><ul>
<li><p>PageContext 存东西</p>
</li>
<li><p>Request 存东西</p>
</li>
<li><p>Response</p>
</li>
<li><p>Session 存东西</p>
</li>
<li><p>Application (Servlet Context) 存东西</p>
</li>
<li><p>config (servlet config)</p>
</li>
<li><p>out</p>
</li>
<li><p>page</p>
</li>
<li><p>exception</p>
<p>request: 客户端向服务器发送请求,产生的数据,用户看完就没用了, 比如: 新闻,用户看完没用的!</p>
<p>session: 客户端向服务器发送请求,产生的数据,用户用完之后还有用 , 比如: 购物车;</p>
<p>application: 客户端向服务器发送请求,产生的数据,一个用户用完了,其他用户还可以使用, 比如:聊天数据</p>
</li>
</ul>
<h3 id="5-5Jsp-标签-JSbTL表达式-EL表达式"><a href="#5-5Jsp-标签-JSbTL表达式-EL表达式" class="headerlink" title="5.5Jsp 标签 ,JSbTL表达式,EL表达式"></a>5.5Jsp 标签 ,JSbTL表达式,EL表达式</h3><p>EL表达式: ${}</p>
<ul>
<li>获取数据</li>
<li>执行运算</li>
<li>获取WEB开发的常用对象</li>
</ul>
<p>JSP 标签</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml">&lt;%--jsp:include--%&gt;<br>&lt;%--<br>http://localhost:8080?jsptag.jsp?name=kuangshen&amp;age=12<br>--%&gt;<br><span class="hljs-tag">&lt;<span class="hljs-name">jsp:forward</span> <span class="hljs-attr">page</span>=<span class="hljs-string">&quot;/jsptag2.jsp&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">jsp:param</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;kuangshen&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">jsp:param</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">jsp:param</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;age&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;12&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">jsp:param</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">jsp:forward</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>JSTL表达式</strong></p>
<p><strong>JSTL标签库的使用</strong>就是为了弥补HTML的不足: 他自定义了许多标签,可以供我们使用,标签功能和Java代码一样!</p>
<p>格式化标签</p>
<p>SQL标签</p>
<p>XML标签</p>
<p>核心标签(<strong>掌握部分</strong>)</p>
<p>JSTL使用步骤:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml">1. 引入对应taglib<br>2. 使用其中的方法<br>3. 在tomcat中也要引入JSTL的包,否则会报错:JSTL解析错误<br></code></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span>if测试<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;JSTL_CoreIf.jsp&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;get&quot;</span>&gt;</span><br>    &lt;%--<br>        EL表达式获取表单中的数据<br>        $&#123;param.参数名&#125; &#125;<br>    --%&gt;<br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;param.username&#125;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;登录&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br>&lt;%--判断如果是管理员则提交成功--%&gt;<br><span class="hljs-tag">&lt;<span class="hljs-name">c:if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;$&#123;param.username ==&#x27;admin&#x27;&#125;&quot;</span> <span class="hljs-attr">var</span>=<span class="hljs-string">&quot;isAdmin&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">c:out</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;管理员欢迎你~~!&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">c:if</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">c:out</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;isAdmin&#125;&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs html">&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;<br>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;<br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>&lt;%--定义一个变量 值为85--%&gt;<br>    <span class="hljs-tag">&lt;<span class="hljs-name">c:set</span> <span class="hljs-attr">var</span>=<span class="hljs-string">&quot;score&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;85&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">c:choose</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">c:when</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;$&#123;score&gt;=90&#125;&quot;</span>&gt;</span><br>        你的分数挺高!~<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">c:when</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">c:when</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;$&#123;score&gt;=80&#125;&quot;</span>&gt;</span><br>        你的分数还行<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">c:when</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">c:when</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;$&#123;score&gt;=70&#125;&quot;</span>&gt;</span><br>        你的分数一般<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">c:when</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">c:when</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;$&#123;score&lt;=60&#125;&quot;</span>&gt;</span><br>        你的分数想死<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">c:when</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">c:choose</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="六、JavaBean"><a href="#六、JavaBean" class="headerlink" title="六、JavaBean"></a>六、JavaBean</h2><p>实体类</p>
<p>JavaBean有特定的写法:</p>
<ul>
<li>必须有一个无参构造</li>
<li>属性必须私有化</li>
<li>必须有对应的get/set方法</li>
</ul>
<p>**_<strong>一般来和数据库字段做映射</strong>_**ORM</p>
<p>ORM对象关系映射</p>
<ul>
<li><p>表——&gt;类</p>
</li>
<li><p>字段—-&gt;属性</p>
</li>
<li><p>行记录——&gt;对象</p>
<p>People表</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>id</th>
<th>name</th>
<th>age</th>
<th>address</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>小猪</td>
<td>3</td>
<td>广州</td>
</tr>
<tr>
<td>2</td>
<td>小猪</td>
<td>15</td>
<td>上海</td>
</tr>
<tr>
<td>3</td>
<td>小猪</td>
<td>88</td>
<td>北京</td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People</span></span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> age; <br>    <span class="hljs-keyword">private</span> String address;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A</span></span>&#123;<br>    <span class="hljs-keyword">new</span> people(<span class="hljs-number">1</span>,<span class="hljs-string">&quot;小猪&quot;</span>,<span class="hljs-number">3</span>,<span class="hljs-string">&quot;广州&quot;</span>);<br>     <span class="hljs-keyword">new</span> people(<span class="hljs-number">2</span>,<span class="hljs-string">&quot;小猪&quot;</span>,<span class="hljs-number">15</span>,<span class="hljs-string">&quot;上海&quot;</span>);<br>     <span class="hljs-keyword">new</span> people(<span class="hljs-number">3</span>,<span class="hljs-string">&quot;小猪&quot;</span>,<span class="hljs-number">88</span>,<span class="hljs-string">&quot;北京&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>过滤器</li>
<li>文件上传</li>
<li>邮件发送</li>
<li>JDBC复习,如何使用JDBC , JDBC crud , JDBC事物</li>
</ul>
<h2 id="七、三层架构MVC"><a href="#七、三层架构MVC" class="headerlink" title="七、三层架构MVC"></a>七、三层架构MVC</h2><p><strong>MVC是啥?</strong> model view controller 模型(实体类与数据库对应的字段) 视图(jsp页面) 控制器(Servlet) | 当前理解</p>
<p>Model</p>
<ul>
<li>业务处理: 业务逻辑 (service)</li>
<li>数据库持久层: CRUD (Dao)</li>
</ul>
<p>View</p>
<ul>
<li>展示数据</li>
<li>提供连接发起servlet请求(a from img)</li>
</ul>
<p>Controller</p>
<ul>
<li>接受用户请求: request :请求参数,Session信息</li>
<li>交给业务层处理对应代码</li>
<li>控制视图的跳转</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml">登录<br>----&gt;接受用户的登录请求<br>-----&gt;处理用户请求(获取用户登陆的参数 usename passworld)<br>----&gt;交给业务层处理登录业务(判断用户名 密码是否吻合 )<br>----&gt;Dao层查询用户名密码是否正确<br>---&gt;查数据库<br></code></pre></td></tr></table></figure>

<h2 id="八、Filter过滤器"><a href="#八、Filter过滤器" class="headerlink" title="八、Filter过滤器"></a>八、Filter过滤器</h2><p><strong>Filter</strong>：过滤器 ，用来过滤网站的数据；</p>
<ul>
<li>处理中文乱码</li>
<li>登录验证…</li>
</ul>
<p><img data-fancybox="gallery" data-sizes="auto" data-src="https://gitee.com/xiaoyu-98/blogImage/raw/master/img/image-20210325121124401.png" alt="image-20210325121124401" class="lazyload"></p>
<p>开发步骤:</p>
<ol>
<li>导包</li>
<li>编写过滤器</li>
<li>导包不要错(javax.servlet)</li>
<li>实现Filer接口,重写对应方法即可</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Filer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Filter</span> </span>&#123;<br>    <span class="hljs-comment">//初始化</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">(FilterConfig filterConfig)</span> <span class="hljs-keyword">throws</span> ServletException </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;初始化成功~~~~!&quot;</span>);<br>    &#125;<br>    <span class="hljs-comment">//初始化: web服务器启动时就初始化,随时等待过滤器对象的出现</span><br>    <span class="hljs-comment">//Chain 链</span><br>    <span class="hljs-comment">//1. 过滤器中的所有代码,在过滤特定请求时</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doFilter</span><span class="hljs-params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain chain)</span> <span class="hljs-keyword">throws</span> IOException, ServletException </span>&#123;<br>        servletRequest.setCharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br>        servletResponse.setCharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br>        servletResponse.setContentType(<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;执行前...&quot;</span>);<br>        chain.doFilter(servletRequest, servletResponse);<span class="hljs-comment">//让请求继续走,如果不写拦截停止</span><br>        System.out.println(<span class="hljs-string">&quot;执行后....&quot;</span>);<br>    &#125;<br>    <span class="hljs-comment">//销毁 web服务器关闭的时候才会被销毁</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">destroy</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;已被销毁~~~~!&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ol>
<li>在web.xml中配置Filter映射</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>filer<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span>com.zhu.Filer.Filer<span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- /*会过滤所有的请求--&gt;</span><br>    <span class="hljs-comment">&lt;!--servlet/*会过滤所有servlet下的所有请求--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>filer<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="九、监听器"><a href="#九、监听器" class="headerlink" title="九、监听器"></a>九、监听器</h2><p>监测网站在线人数（基于session）</p>
<p>1、编写一个监听器，实现HttpSessionListener</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OnlineListenimplementsHttpSessionListener</span></span>&#123;<br>    <span class="hljs-comment">/**     </span><br><span class="hljs-comment">    * 监听session新创建时执行的方法     </span><br><span class="hljs-comment">    * <span class="hljs-doctag">@param</span> se     </span><br><span class="hljs-comment">    */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sessionCreated</span><span class="hljs-params">(HttpSessionEvent se)</span></span>&#123;<br>        ServletContext sc = se.getSession().getServletContext();<br>        System.out.println(<span class="hljs-string">&quot;sessionId:&quot;</span>+ se.getSession().getId());<br>        Integer onlineCount =(Integer) sc.getAttribute(<span class="hljs-string">&quot;onlineCount&quot;</span>);<br>        <span class="hljs-keyword">if</span>(onlineCount ==<span class="hljs-keyword">null</span>)&#123;            <br>            onlineCount =<span class="hljs-number">1</span>;<br>        &#125;<span class="hljs-keyword">else</span>&#123;           <br>            onlineCount++;<br>        &#125;        <br>        sc.setAttribute(<span class="hljs-string">&quot;onlineCount&quot;</span>,onlineCount);&#125;<br>    <br>    <span class="hljs-comment">/**     </span><br><span class="hljs-comment">    * 监听session销毁时执行方法     </span><br><span class="hljs-comment">    * <span class="hljs-doctag">@param</span> se     </span><br><span class="hljs-comment">    */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sessionDestroyed</span><span class="hljs-params">(HttpSessionEvent se)</span></span>&#123;<br>        ServletContext sc = se.getSession().getServletContext();<br>        Integer onlineCount =(Integer) sc.getAttribute(<span class="hljs-string">&quot;onlineCount&quot;</span>);<br>        <span class="hljs-keyword">if</span>(onlineCount ==<span class="hljs-keyword">null</span>)&#123;            <br>            onlineCount =<span class="hljs-number">0</span>;<br>        &#125;<span class="hljs-keyword">else</span>&#123;            <br>            onlineCount--;<br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;销毁session了--监听到&quot;</span>);        <br>        sc.setAttribute(<span class="hljs-string">&quot;onlineCount&quot;</span>,onlineCount);<br>    &#125; <br>&#125;<br></code></pre></td></tr></table></figure>

<p>2、web.xml中注册监听器</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--监听器--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">listener</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">listener-class</span>&gt;</span>com.bug.listener.OnlineListen<span class="hljs-tag">&lt;/<span class="hljs-name">listener-class</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">listener</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>session销毁方法</p>
<ul>
<li>手动销毁 getSession().invalidate();</li>
<li>自动销毁 在web.xml中设置超时时间</li>
</ul>
<h2 id="十、-过滤器-监听器常见应用"><a href="#十、-过滤器-监听器常见应用" class="headerlink" title="十、 过滤器,监听器常见应用"></a>十、 过滤器,监听器常见应用</h2><p>监听器在javaGUI中常常被使用:</p>
<p>用户登录才能进入主页,注销后不能进去主页</p>
<h2 id="十一、SMBS-项目从头到尾"><a href="#十一、SMBS-项目从头到尾" class="headerlink" title="十一、SMBS 项目从头到尾"></a>十一、SMBS 项目从头到尾</h2><h3 id="11-1、-项目怎么搭建"><a href="#11-1、-项目怎么搭建" class="headerlink" title="11.1、 项目怎么搭建"></a>11.1、 项目怎么搭建</h3><h4 id="11-1-1、是否使用Maven"><a href="#11-1-1、是否使用Maven" class="headerlink" title="11.1.1、是否使用Maven"></a>11.1.1、是否使用Maven</h4><p>依赖 or jar包</p>
<h4 id="11-1-2、项目搭建的准备工作"><a href="#11-1-2、项目搭建的准备工作" class="headerlink" title="11.1.2、项目搭建的准备工作"></a>11.1.2、项目搭建的准备工作</h4><ol>
<li><p>搭建一个Maven Web 项目</p>
</li>
<li><p>配置Tomcat</p>
</li>
<li><p>测试项目是否能跑起来</p>
</li>
<li><p>导入项目的jar 包</p>
<p> JSP Servlet Mysql</p>
</li>
<li><p>创建项目包结构</p>
</li>
<li><p>编写实体类</p>
<p>ORM映射, 表-&gt;类映射</p>
</li>
<li><p>编写基础公共类</p>
</li>
</ol>
<h4 id="11-1-3、数据库配置文件"><a href="#11-1-3、数据库配置文件" class="headerlink" title="11.1.3、数据库配置文件"></a>11.1.3、数据库配置文件</h4><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">driver</span>=<span class="hljs-string">com.mysql.cj.jdbc.Driver</span><br><span class="hljs-attr">url</span>=<span class="hljs-string">jdbc:mysql://localhost:3306?useUnicode=true &amp; characterEncoding=utf-8 </span><br><span class="hljs-attr">useername</span> = <span class="hljs-string">root</span><br><span class="hljs-attr">password</span> = <span class="hljs-string">510562</span><br></code></pre></td></tr></table></figure>

<p><strong>编写数据库的公共类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.zhu.dao;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStream;<br><span class="hljs-keyword">import</span> java.net.URL;<br><span class="hljs-keyword">import</span> java.sql.*;<br><span class="hljs-keyword">import</span> java.util.Properties;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 操作数据库的公共类</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BaseDao</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String driver;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String url;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String username;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String password;<br>    <br>    <span class="hljs-comment">//静态代码块,类加载的时候就会加载</span><br>    <span class="hljs-keyword">static</span> &#123;<br>        Properties properties = <span class="hljs-keyword">new</span> Properties();<br>        <span class="hljs-comment">//通过类加载器读取资源</span><br>        InputStream is = BaseDao.class.getClassLoader().getResourceAsStream(<span class="hljs-string">&quot;db.properties&quot;</span>);<br>        <span class="hljs-keyword">try</span> &#123;<br>            properties.load(is);<br>        &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>        <span class="hljs-comment">//获取 db.properties 中对应的数据</span><br>        driver = properties.getProperty(<span class="hljs-string">&quot;driver&quot;</span>);<br>        url = properties.getProperty(<span class="hljs-string">&quot;url&quot;</span>);<br>        username = properties.getProperty(<span class="hljs-string">&quot;username&quot;</span>);<br>        password = properties.getProperty(<span class="hljs-string">&quot;password&quot;</span>);<br>    &#125;<br>    <br>    <span class="hljs-comment">//获取数据库的链接</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Connection <span class="hljs-title">getConnection</span><span class="hljs-params">()</span> </span>&#123;<br>        Connection connection = <span class="hljs-keyword">null</span>;<br>        <span class="hljs-keyword">try</span> &#123;<br>            Class.forName(driver);<br>            connection = DriverManager.getConnection(url, username, password);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>        <span class="hljs-keyword">return</span> connection;<br>    &#125;<br>    <br>    <span class="hljs-comment">//编写查询公共类</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ResultSet <span class="hljs-title">excute</span><span class="hljs-params">(Connection connection, String sql, Object[] params, ResultSet resultSet, PreparedStatement preparedStatement)</span> <span class="hljs-keyword">throws</span> SQLException </span>&#123;<br>        <span class="hljs-comment">//预编译的SQL在后边直接执行就行</span><br>        preparedStatement = getConnection().prepareStatement(sql);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; params.length; i++) &#123;<br>            <span class="hljs-comment">//setobject ,占位符从1开始,  数组从0开始</span><br>            preparedStatement.setObject(i + <span class="hljs-number">1</span>, params[i]);<br>        &#125;<br>        resultSet = preparedStatement.executeQuery();<br>        <span class="hljs-keyword">return</span> resultSet;<br>    &#125;<br>    <br>    <span class="hljs-comment">//编写增删改公共方法</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">excute</span><span class="hljs-params">(Connection connection, String sql, Object[] params, PreparedStatement preparedStatement)</span> <span class="hljs-keyword">throws</span> SQLException </span>&#123;<br>        preparedStatement = getConnection().prepareStatement(sql);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; params.length; i++) &#123;<br>            <span class="hljs-comment">//setobject ,占位符从1开始,  数组从0开始</span><br>            preparedStatement.setObject(i + <span class="hljs-number">1</span>, params[i]);<br>        &#125;<br>        <span class="hljs-keyword">int</span> updateRow = preparedStatement.executeUpdate();<br>        <span class="hljs-keyword">return</span> updateRow;<br>    &#125;<br>    <br>    <span class="hljs-comment">//关闭链接,释放资源</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">closeResource</span><span class="hljs-params">(Connection connection, PreparedStatement preparedStatement, ResultSet resultSet)</span> </span>&#123;<br>        <span class="hljs-keyword">boolean</span> flag = <span class="hljs-keyword">true</span>;<br>        <span class="hljs-keyword">if</span> (resultSet != <span class="hljs-keyword">null</span>) &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                resultSet.close();<br>                <span class="hljs-comment">//GC回收</span><br>                resultSet = <span class="hljs-keyword">null</span>;<br>            &#125; <span class="hljs-keyword">catch</span> (SQLException e) &#123;<br>                e.printStackTrace();<br>                flag = <span class="hljs-keyword">false</span>;<br>            &#125;<br>        <span class="hljs-keyword">if</span> (connection != <span class="hljs-keyword">null</span>) &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                connection.close();<br>                <span class="hljs-comment">//GC回收</span><br>                connection = <span class="hljs-keyword">null</span>;<br>                ;<br>            &#125; <span class="hljs-keyword">catch</span> (SQLException e) &#123;<br>                e.printStackTrace();<br>                flag = <span class="hljs-keyword">false</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (resultSet != <span class="hljs-keyword">null</span>) &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                resultSet.close();<br>                <span class="hljs-comment">//GC回收</span><br>                resultSet = <span class="hljs-keyword">null</span>;<br>            &#125; <span class="hljs-keyword">catch</span> (SQLException e) &#123;<br>                e.printStackTrace();<br>                flag = <span class="hljs-keyword">false</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> flag;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="11-2、编写字符编码过滤器"><a href="#11-2、编写字符编码过滤器" class="headerlink" title="11.2、编写字符编码过滤器"></a>11.2、编写字符编码过滤器</h3><h4 id="11-2-1、导入静态资源"><a href="#11-2-1、导入静态资源" class="headerlink" title="11.2.1、导入静态资源"></a>11.2.1、导入静态资源</h4><h4 id="11-2-2、登录功能实现"><a href="#11-2-2、登录功能实现" class="headerlink" title="11.2.2、登录功能实现"></a>11.2.2、登录功能实现</h4><ol>
<li>编写前端</li>
<li>设置首页</li>
<li>编写dao层,得到用户登陆的接口</li>
<li>编写dao接口的实现类</li>
<li>业务层接口</li>
<li>业务层实现类</li>
<li>编写Servlet</li>
<li>注册Servlet</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">session-config</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">session-timeout</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">session-timeout</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">session-config</span>&gt;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs xml">以下是mavaen推荐的项目目录.<br>├── pom.xml<br>└── src<br>    ├── main<br>    │   ├── java<br>    │   │   └── group<br>    │   │       ├── controller<br>    │   │       │   ├── HomeController.java<br>    │   │       │   └── PersonController.java<br>    │   │       ├── dao<br>    │   │       │   └── PersonDao.java<br>    │   │       └── model<br>    │   │           └── Person.java<br>    │   ├── resources<br>    │   │   ├── db.properties<br>    │   │   ├── log4j.xml<br>    │   │   └── META-INF<br>    │   │       └── persistence.xml<br>    │   └── webapp<br>    │       ├── index.html<br>    │       ├── META-INF<br>    │       │   ├── context.xml<br>    │       │   └── MANIFEST.MF<br>    │       ├── resources<br>    │       │   └── css<br>    │       │       └── screen.css<br>    │       └── WEB-INF<br>    │           ├── spring<br>    │           │   ├── app<br>    │           │   │   ├── controllers.xml<br>    │           │   │   └── servlet-context.xml<br>    │           │   ├── db.xml<br>    │           │   └── root-context.xml<br>    │           ├── views<br>    │           │   ├── edit.jsp<br>    │           │   ├── home.jsp<br>    │           │   └── list.jsp<br>    │           └── web.xml<br>    └── test<br>        ├── java<br>        │   └── group<br>        │       ├── controller<br>        │       │   ├── DataInitializer.java<br>        │       │   ├── HomeControllerTest.java<br>        │       │   └── PersonControllerTest.java<br>        │       └── dao<br>        │           └── PersonDaoTest.java<br>        └── resources<br>            ├── db.properties<br>            ├── log4j.xml<br>            ├── test-context.xml<br>            └── test-db.xml<br></code></pre></td></tr></table></figure>
































  </article>

  
      
    <div class="nexmoe-post-copyright">
        <strong>Author：</strong>Shuyan<br>
        <strong>Link：</strong><a href="http://example.com/2022/03/17/JAVA/Spring%E6%A1%86%E6%9E%B6/JavaWeb/JavaWeb/" title="http:&#x2F;&#x2F;example.com&#x2F;2022&#x2F;03&#x2F;17&#x2F;JAVA&#x2F;Spring%E6%A1%86%E6%9E%B6&#x2F;JavaWeb&#x2F;JavaWeb&#x2F;" target="_blank" rel="noopener">http:&#x2F;&#x2F;example.com&#x2F;2022&#x2F;03&#x2F;17&#x2F;JAVA&#x2F;Spring%E6%A1%86%E6%9E%B6&#x2F;JavaWeb&#x2F;JavaWeb&#x2F;</a><br>
        
            <strong>版权声明：</strong>本文采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/deed.zh" target="_blank">CC BY-NC-SA 3.0 CN</a> 协议进行许可
        
    </div>


  
  
  <div class="nexmoe-post-meta nexmoe-rainbow">
    
        <a class="nexmoefont icon-appstore-fill -link" href="/categories/JAVA/">JAVA</a><a class="nexmoefont icon-appstore-fill -link" href="/categories/JAVA/%E2%80%9CSpring%E6%A1%86%E6%9E%B6%E2%80%9D/">“Spring框架”</a><a class="nexmoefont icon-appstore-fill -link" href="/categories/JAVA/%E2%80%9CSpring%E6%A1%86%E6%9E%B6%E2%80%9D/JavaWeb/">JavaWeb</a>
    
    
        <a class="nexmoefont icon-tag-fill -none-link" href="/tags/JavaWeb/" rel="tag">JavaWeb</a>
    
</div>

  
      <div class="nexmoe-post-footer">
          <section class="nexmoe-comment">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.css">
<div id="gitalk"></div>
<script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script>
<script type="text/javascript">
    var gitalk = new Gitalk({
        clientID: '80b2453b6d5f37ad6225',
        clientSecret: '43e99fa852795c9a7b3eb924b2558c64b84bbdeb',
        id: window.location.pathname,
        repo: 'nexmoe.github.io',
        owner: 'nexmoe',
        admin: 'nexmoe'
    })
    gitalk.render('gitalk')
</script>
</section>
      </div>
  
</div>
            <div class="nexmoe-post-right">
              <div class="nexmoe-fixed">
                  <div class="nexmoe-tool"> 
                    
                      
                        
                          
                          
                              <button class="mdui-fab catalog" style="overflow:unset;">
                                  <i class="nexmoefont icon-i-catalog"></i>
                                  <div class="nexmoe-toc">
                                      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#JavaWeb"><span class="toc-number">1.</span> <span class="toc-text">JavaWeb</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81Tomcat"><span class="toc-number">1.1.</span> <span class="toc-text">一、Tomcat</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1%E3%80%81tomcat%E5%90%AF%E5%8A%A8"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1、tomcat启动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2%E3%80%81tomcat%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.2、tomcat配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3%E3%80%81%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAweb%E7%BD%91%E7%AB%99"><span class="toc-number">1.1.3.</span> <span class="toc-text">1.3、搭建一个web网站</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4%E3%80%81%E5%90%AF%E5%8A%A8%E5%A4%9A%E4%B8%AA%E4%B8%8D%E5%90%8C%E7%AB%AF%E5%8F%A3%E7%9A%84Tomcat"><span class="toc-number">1.1.4.</span> <span class="toc-text">1.4、启动多个不同端口的Tomcat</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81HTTP"><span class="toc-number">1.2.</span> <span class="toc-text">二、HTTP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1%E3%80%81HTTP%E7%AE%80%E4%BB%8B"><span class="toc-number">1.2.1.</span> <span class="toc-text">2.1、HTTP简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2%E3%80%81%E4%B8%A4%E4%B8%AA%E6%97%B6%E4%BB%A3"><span class="toc-number">1.2.2.</span> <span class="toc-text">2.2、两个时代</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3%E3%80%81HTTP%E8%AF%B7%E6%B1%82"><span class="toc-number">1.2.3.</span> <span class="toc-text">2.3、HTTP请求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4%E3%80%81HTTP%E5%93%8D%E5%BA%94"><span class="toc-number">1.2.4.</span> <span class="toc-text">2.4、HTTP响应</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-1%E3%80%81%E5%93%8D%E5%BA%94%E4%BD%93"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">2.4.1、响应体</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-2%E3%80%81%E5%93%8D%E5%BA%94%E7%8A%B6%E6%80%81%E7%A0%81"><span class="toc-number">1.2.4.2.</span> <span class="toc-text">2.4.2、响应状态码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5%E3%80%81Maven"><span class="toc-number">1.2.5.</span> <span class="toc-text">2.5、Maven</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-1-Maven%E9%A1%B9%E7%9B%AE%E6%9E%B6%E6%9E%84%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7"><span class="toc-number">1.2.6.</span> <span class="toc-text">2.5.1 Maven项目架构管理工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-2%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85Maven"><span class="toc-number">1.2.7.</span> <span class="toc-text">2.5.2下载安装Maven</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-3-%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">1.2.8.</span> <span class="toc-text">2.5.3 配置环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-4-%E9%98%BF%E9%87%8C%E4%BA%91%E9%95%9C%E5%83%8F"><span class="toc-number">1.2.9.</span> <span class="toc-text">2.5.4 阿里云镜像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-5-%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93"><span class="toc-number">1.2.10.</span> <span class="toc-text">2.5.5 本地仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-6-%E5%9C%A8IDEA%E4%B8%AD%E4%BD%BF%E7%94%A8MAVEN"><span class="toc-number">1.2.11.</span> <span class="toc-text">2.5.6 在IDEA中使用MAVEN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-7%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%99%AE%E9%80%9A%E7%9A%84Maven%E9%A1%B9%E7%9B%AE"><span class="toc-number">1.2.12.</span> <span class="toc-text">2.5.7创建一个普通的Maven项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-8-IDEA%E9%85%8D%E7%BD%AETOMECAT"><span class="toc-number">1.2.13.</span> <span class="toc-text">2.5.8 IDEA配置TOMECAT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-9-pom%E6%96%87%E4%BB%B6"><span class="toc-number">1.2.14.</span> <span class="toc-text">2.5.9 pom文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81Servlet"><span class="toc-number">1.3.</span> <span class="toc-text">三、Servlet</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1%E3%80%81Servlet%E7%AE%80%E4%BB%8B"><span class="toc-number">1.3.1.</span> <span class="toc-text">3.1、Servlet简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2%E3%80%81HelloServlet"><span class="toc-number">1.3.2.</span> <span class="toc-text">3.2、HelloServlet</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-1%E3%80%81%E7%BC%96%E5%86%99%E4%B8%80%E4%B8%AAservlet-%E7%A8%8B%E5%BA%8F"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">3.2.1、编写一个servlet 程序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-2%E3%80%81%E9%85%8D%E7%BD%AE%E6%98%A0%E5%B0%84"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">3.2.2、配置映射</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3%E3%80%81Servlet%E5%8E%9F%E7%90%86"><span class="toc-number">1.3.3.</span> <span class="toc-text">3.3、Servlet原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4%E3%80%81Mapping%E9%97%AE%E9%A2%98"><span class="toc-number">1.3.4.</span> <span class="toc-text">3.4、Mapping问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5%E3%80%81ServletContext"><span class="toc-number">1.3.5.</span> <span class="toc-text">3.5、ServletContext</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-5-1%E3%80%81%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE"><span class="toc-number">1.3.5.1.</span> <span class="toc-text">3.5.1、共享数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-5-2%E3%80%81%E8%8E%B7%E5%8F%96%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%82%E6%95%B0"><span class="toc-number">1.3.5.2.</span> <span class="toc-text">3.5.2、获取初始化参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-5-3%E3%80%81%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91"><span class="toc-number">1.3.5.3.</span> <span class="toc-text">3.5.3、请求转发</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-5-4%E3%80%81%E8%AF%BB%E5%8F%96%E8%B5%84%E6%BA%90%E6%96%87%E4%BB%B6"><span class="toc-number">1.3.5.4.</span> <span class="toc-text">3.5.4、读取资源文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6%E3%80%81HttpServletResponse"><span class="toc-number">1.3.6.</span> <span class="toc-text">3.6、HttpServletResponse</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-6-1%E3%80%81%E7%AE%80%E5%8D%95%E5%88%86%E7%B1%BB"><span class="toc-number">1.3.6.1.</span> <span class="toc-text">3.6.1、简单分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E5%BA%94%E7%94%A8"><span class="toc-number">1.3.6.2.</span> <span class="toc-text">常见应用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-6-2%E3%80%81%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6"><span class="toc-number">1.3.6.3.</span> <span class="toc-text">3.6.2、下载文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-6-3%E3%80%81%E9%AA%8C%E8%AF%81%E7%A0%81%E5%8A%9F%E8%83%BD"><span class="toc-number">1.3.6.4.</span> <span class="toc-text">3.6.3、验证码功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-6-4%E3%80%81%E5%AE%9E%E7%8E%B0%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.3.6.5.</span> <span class="toc-text">3.6.4、实现重定向</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-6-5%E3%80%81%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0%E7%99%BB%E5%BD%95%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.3.6.6.</span> <span class="toc-text">3.6.5、简单实现登录重定向</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-7%E3%80%81HttpServletRequest"><span class="toc-number">1.3.7.</span> <span class="toc-text">3.7、HttpServletRequest</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-7-1-%E8%8E%B7%E5%8F%96%E5%89%8D%E7%AB%AF%E4%BC%A0%E9%80%92%E7%9A%84%E5%8F%82%E6%95%B0-%E5%B9%B6-%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91"><span class="toc-number">1.3.7.1.</span> <span class="toc-text">3.7.1. 获取前端传递的参数 并 请求转发</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81Cookie%E3%80%81Session"><span class="toc-number">1.4.</span> <span class="toc-text">四、Cookie、Session</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1%E3%80%81%E4%BC%9A%E8%AF%9D"><span class="toc-number">1.4.1.</span> <span class="toc-text">4.1、会话</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2%E3%80%81%E4%BF%9D%E5%AD%98%E4%BC%9A%E8%AF%9D%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%8A%80%E6%9C%AF"><span class="toc-number">1.4.2.</span> <span class="toc-text">4.2、保存会话的两种技术</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3%E3%80%81Cookie"><span class="toc-number">1.4.3.</span> <span class="toc-text">4.3、Cookie</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3%E3%80%81Session%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-number">1.4.4.</span> <span class="toc-text">4.3、Session（重点）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E6%B3%A8%E9%94%80session"><span class="toc-number">1.4.4.0.1.</span> <span class="toc-text">手动注销session</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AEsession%E7%9A%84%E5%A4%B1%E6%95%88%E6%97%B6%E9%97%B4%EF%BC%8C%E5%9C%A8web-xml%E4%B8%AD"><span class="toc-number">1.4.4.0.2.</span> <span class="toc-text">设置session的失效时间，在web.xml中</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7%E5%A4%A9%E5%85%8D%E7%99%BB%E5%BD%95%E6%A1%88%E4%BE%8B%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.4.4.1.</span> <span class="toc-text">7天免登录案例实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4%E3%80%81session%E4%B8%8Ecookie%E5%BC%82%E5%90%8C"><span class="toc-number">1.4.5.</span> <span class="toc-text">4.4、session与cookie异同</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">1.4.6.</span> <span class="toc-text">4.5使用场景:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81JSP"><span class="toc-number">1.5.</span> <span class="toc-text">五、JSP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1%E4%BB%80%E4%B9%88%E6%98%AFJSP"><span class="toc-number">1.5.1.</span> <span class="toc-text">5.1什么是JSP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-JSP%E5%8E%9F%E7%90%86"><span class="toc-number">1.5.2.</span> <span class="toc-text">5.2 JSP原理-</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3JSP%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">1.5.3.</span> <span class="toc-text">5.3JSP基本语法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#JSP%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.5.3.1.</span> <span class="toc-text">JSP表达式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSP%E8%84%9A%E6%9C%AC%E7%89%87%E6%AE%B5"><span class="toc-number">1.5.3.2.</span> <span class="toc-text">JSP脚本片段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSP%E4%BB%A3%E7%A0%81%E7%9A%84%E5%9C%A8%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.5.3.3.</span> <span class="toc-text">JSP代码的在实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSP%E5%A3%B0%E6%98%8E"><span class="toc-number">1.5.3.4.</span> <span class="toc-text">JSP声明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#jsp%E6%8C%87%E4%BB%A4"><span class="toc-number">1.5.3.5.</span> <span class="toc-text">jsp指令</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-%E4%B9%9D%E5%A4%A7%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.5.4.</span> <span class="toc-text">5.4 九大内置对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5Jsp-%E6%A0%87%E7%AD%BE-JSbTL%E8%A1%A8%E8%BE%BE%E5%BC%8F-EL%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.5.5.</span> <span class="toc-text">5.5Jsp 标签 ,JSbTL表达式,EL表达式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81JavaBean"><span class="toc-number">1.6.</span> <span class="toc-text">六、JavaBean</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84MVC"><span class="toc-number">1.7.</span> <span class="toc-text">七、三层架构MVC</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB%E3%80%81Filter%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-number">1.8.</span> <span class="toc-text">八、Filter过滤器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D%E3%80%81%E7%9B%91%E5%90%AC%E5%99%A8"><span class="toc-number">1.9.</span> <span class="toc-text">九、监听器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E3%80%81-%E8%BF%87%E6%BB%A4%E5%99%A8-%E7%9B%91%E5%90%AC%E5%99%A8%E5%B8%B8%E8%A7%81%E5%BA%94%E7%94%A8"><span class="toc-number">1.10.</span> <span class="toc-text">十、 过滤器,监听器常见应用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%B8%80%E3%80%81SMBS-%E9%A1%B9%E7%9B%AE%E4%BB%8E%E5%A4%B4%E5%88%B0%E5%B0%BE"><span class="toc-number">1.11.</span> <span class="toc-text">十一、SMBS 项目从头到尾</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1%E3%80%81-%E9%A1%B9%E7%9B%AE%E6%80%8E%E4%B9%88%E6%90%AD%E5%BB%BA"><span class="toc-number">1.11.1.</span> <span class="toc-text">11.1、 项目怎么搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#11-1-1%E3%80%81%E6%98%AF%E5%90%A6%E4%BD%BF%E7%94%A8Maven"><span class="toc-number">1.11.1.1.</span> <span class="toc-text">11.1.1、是否使用Maven</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-1-2%E3%80%81%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA%E7%9A%84%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="toc-number">1.11.1.2.</span> <span class="toc-text">11.1.2、项目搭建的准备工作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-1-3%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.11.1.3.</span> <span class="toc-text">11.1.3、数据库配置文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2%E3%80%81%E7%BC%96%E5%86%99%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-number">1.11.2.</span> <span class="toc-text">11.2、编写字符编码过滤器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#11-2-1%E3%80%81%E5%AF%BC%E5%85%A5%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90"><span class="toc-number">1.11.2.1.</span> <span class="toc-text">11.2.1、导入静态资源</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-2-2%E3%80%81%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.11.2.2.</span> <span class="toc-text">11.2.2、登录功能实现</span></a></li></ol></li></ol></li></ol></li></ol>
                                  </div>
                              </button>
                          
                          
                      
                    
                      <a href="#nexmoe-content" class="toc-link" aria-label="回到顶部" title="top"><button class="mdui-fab mdui-ripple"><i class="nexmoefont icon-caret-top"></i></button></a>
                  </div>
              </div>
            </div>
        </div>
    </div>
     
    <div id="nexmoe-search-space">
        <div class="search-container">
            <div class="search-header">
                <div class="search-input-container">
                    <input class="search-input" type="text" placeholder="Search" oninput="sinput();">
                </div>
                <a class="search-close" onclick="sclose();">×</a>
            </div>
            <div class="search-body"></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/combine/npm/lazysizes@5.1.0/lazysizes.min.js,npm/mdui@0.4.3/dist/js/mdui.min.js?v=1"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

 

<script async src="/js/app.js?v=1649075797958"></script>



<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js"></script>
<script>
	$(".justified-gallery").justifiedGallery({
		rowHeight: 160,
		margins: 10,
	});
</script>


    





    <!-- baidu Analytics -->
<script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?0a7e154da92f76d05c83b48cbab331da#&lt;ID&gt;';
    var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

</body>

</html>
