<!DOCTYPE html>

<html lang="en">

<head>
    
    <title>常见排序算法 - Shuyan</title>
    <meta charset="UTF-8">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
    
    

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <meta name="description" content="随机生成算法测试12345678910111213141516171819202122232425262728&#x2F;&#x2F; 自定义SortTestHelper.h#ifndef SELECTIONSORT_SORTTESTHELPER_H#define SELECTIONSORT_SORTTESTHELPER_H#include &lt;ctime&gt;#include &lt;cassert&gt;t">
<meta property="og:type" content="article">
<meta property="og:title" content="常见排序算法">
<meta property="og:url" content="http://example.com/2022/03/24/Leetcode/sort/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/index.html">
<meta property="og:site_name" content="Shuyan">
<meta property="og:description" content="随机生成算法测试12345678910111213141516171819202122232425262728&#x2F;&#x2F; 自定义SortTestHelper.h#ifndef SELECTIONSORT_SORTTESTHELPER_H#define SELECTIONSORT_SORTTESTHELPER_H#include &lt;ctime&gt;#include &lt;cassert&gt;t">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-03-23T16:00:00.000Z">
<meta property="article:modified_time" content="2022-03-31T09:52:11.550Z">
<meta property="article:author" content="Shuyan">
<meta property="article:tag" content="Leetcode">
<meta name="twitter:card" content="summary">
    <link rel="stylesheet" href="/lib/jquery.fancybox.min.css?v=1648908934927">
    
        <link rel="stylesheet" href="//at.alicdn.com/t/font_1038733_0xvrvpg9c0r.css">
    
    <link rel="stylesheet" href="/lib/mdui_043tiny/css/mdui.css?v=1648908934927">
    <link rel="stylesheet" href="/lib/iconfont/iconfont.css?v=1648908934927">
    <link rel="stylesheet" href="/css/style.css?v=1648908934927">
     
    
<meta name="generator" content="Hexo 5.4.0"></head>

<body class="mdui-drawer-body-left">
    
    <div id="nexmoe-background">
        <div class="nexmoe-bg" style="background-image: url(http://mms0.baidu.com/it/u=2467909075,3604847220&amp;fm=253&amp;app=138&amp;f=JPEG&amp;fmt=auto&amp;q=75?w=801&amp;h=500)"></div>
        <div class="mdui-appbar mdui-shadow-0">
            <div class="mdui-toolbar">
                <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon mdui-ripple"><i class="mdui-icon nexmoefont icon-menu"></i></a>
                <div class="mdui-toolbar-spacer"></div>
                <!--<a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>-->
                <a href="/" title="Shuyan" class="mdui-btn mdui-btn-icon"><img src="http://mms2.baidu.com/it/u=1730774443,2723245118&amp;fm=253&amp;app=120&amp;f=JPEG&amp;fmt=auto&amp;q=75?w=500&amp;h=500" alt="Shuyan"></a>
            </div>
        </div>
    </div>
    <div id="nexmoe-header">
        <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="Shuyan">
            <img src="http://mms2.baidu.com/it/u=1730774443,2723245118&amp;fm=253&amp;app=120&amp;f=JPEG&amp;fmt=auto&amp;q=75?w=500&amp;h=500" alt="Shuyan" alt="Shuyan">
        </a>
    </div>
    <div class="nexmoe-count">
        <div><span>Articles</span>37</div>
        <div><span>Tags</span>11</div>
        <div><span>Categories</span>18</div>
    </div>
    <div class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/" title="回到首页">
            <i class="mdui-list-item-icon nexmoefont icon-home"></i>
            <div class="mdui-list-item-content">
                回到首页
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/categories" title="文章归档">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                文章归档
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/about" title="梦华录">
            <i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
            <div class="mdui-list-item-content">
                梦华录
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple false" href="/PY.html" title="我的朋友">
            <i class="mdui-list-item-icon nexmoefont icon-unorderedlist"></i>
            <div class="mdui-list-item-content">
                我的朋友
            </div>
        </a>
        
    </div>
    <aside id="nexmoe-sidebar">
    
    <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-search">
         
            <form id="search_form" action_e="https://cn.bing.com/search?q=site:nexmoe.com" onsubmit="return search();">
                <label><input id="search_value" name="q" type="search" placeholder="Search"></label>
            </form>
         
    </div>
</div>
    
    <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-social">
        <a class="mdui-ripple" href="https://qm.qq.com/cgi-bin/qm/qr?k=rd1wdMWxpIZJe5AIruJkY7xD8d68h031&noverify=0" target="_blank" mdui-tooltip="{content: 'QQ'}" style="color: rgb(249, 174, 8);background-color: rgba(249, 174, 8, .1);">
            <i class="nexmoefont icon-QQ"></i>
        </a><a class="mdui-ripple" href="https://space.bilibili.com/400417888" target="_blank" mdui-tooltip="{content: '哔哩哔哩'}" style="color: rgb(231, 106, 141);background-color: rgba(231, 106, 141, .15);">
            <i class="nexmoefont icon-bilibili"></i>
        </a><a class="mdui-ripple" href="https://github.com/nexmoe/" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color: rgb(25, 23, 23);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-github"></i>
        </a>
    </div>
</div>
    
    
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">Categories</h3>
    <div class="nexmoe-widget">

      <ul class="category-list">

        


        

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/C语言/">C语言</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/JAVA/">JAVA</a>
          <span class="category-list-count">20</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/JAVA/“Spring框架”/JavaWeb/">JavaWeb</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Leetcode/">Leetcode</a>
          <span class="category-list-count">11</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/JAVA/“Spring框架”/Mybaits/">Mybaits</a>
          <span class="category-list-count">6</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/C语言/STL/">STL</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/JAVA/“Spring框架”/Spring/">Spring</a>
          <span class="category-list-count">5</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/JAVA/“Spring框架”/SpringBoot/">SpringBoot</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/JAVA/“Spring框架”/SpringMVC/">SpringMVC</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Leetcode/sort/">sort</a>
          <span class="category-list-count">2</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/JAVA/“JVM”/">“JVM”</a>
          <span class="category-list-count">3</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/JAVA/“Spring框架”/">“Spring框架”</a>
          <span class="category-list-count">17</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Leetcode/二叉树/">二叉树</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Leetcode/剑指offer/">剑指offer</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Leetcode/动态规划/">动态规划</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Leetcode/数组/">数组</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Leetcode/算法/">算法</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Leetcode/贪心算法/">贪心算法</a>
          <span class="category-list-count">1</span>
        </li>

        
      </ul>

    </div>
  </div>


    
    
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">Tag Cloud</h3>
    <div id="randomtagcloud" class="nexmoe-widget tagcloud">
      <a href="/tags/JVM/" style="font-size: 14px;">JVM</a> <a href="/tags/JavaWeb/" style="font-size: 14px;">JavaWeb</a> <a href="/tags/Leetcode/" style="font-size: 20px;">Leetcode</a> <a href="/tags/Mybaits/" style="font-size: 18px;">Mybaits</a> <a href="/tags/STL/" style="font-size: 14px;">STL</a> <a href="/tags/Spring/" style="font-size: 16px;">Spring</a> <a href="/tags/SpringBoot/" style="font-size: 12px;">SpringBoot</a> <a href="/tags/SpringMVC/" style="font-size: 10px;">SpringMVC</a> <a href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/" style="font-size: 10px;">二叉树</a> <a href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" style="font-size: 10px;">动态规划</a> <a href="/tags/%E6%90%9C%E7%B4%A2/" style="font-size: 12px;">搜索</a>
    </div>
    
  </div>
  <style>
    #nexmoe-header .nexmoe-widget-wrap .tagcloud a:nth-child(7n+1) {
    background-color: rgba(255,78,106,0.15);
    color: rgba(255,78,106,0.8);
    }
    #nexmoe-header .nexmoe-widget-wrap .tagcloud a:nth-child(7n+2) {
    background-color: rgba(255,170,115,0.15);
    color: #ffaa73;
    }
    #nexmoe-header .nexmoe-widget-wrap .tagcloud a:nth-child(7n+3) {
    background-color: rgba(254,212,102,0.15);
    color: #fed466;
    }
    #nexmoe-header .nexmoe-widget-wrap .tagcloud a:nth-child(7n+4) {
    background-color: rgba(60,220,130,0.15);
    color: #3cdc82;
    }
    #nexmoe-header .nexmoe-widget-wrap .tagcloud a:nth-child(7n+5) {
    background-color: rgba(100,220,240,0.15);
    color: #64dcf0;
    }
    #nexmoe-header .nexmoe-widget-wrap .tagcloud a:nth-child(7n+6) {
    background-color: rgba(100,185,255,0.15);
    color: #64b9ff;
    }
    #nexmoe-header .nexmoe-widget-wrap .tagcloud a:nth-child(7n+7) {
    background-color: rgba(180,180,255,0.15);
    color: #b4b4ff;
    }
    #nexmoe-content .nexmoe-post .nexmoe-post-meta {
    margin: 25px 0px;
    font-size: 0;
    }
    #nexmoe-content .nexmoe-post .nexmoe-post-meta a {
    border-radius: 20px;
    padding: 10px 18px;
    color: #fff;
    font-size: 14px;
    display: inline-block;
    margin-bottom: 5px;
    margin-right: 10px;
    }
    #nexmoe-content .nexmoe-post .nexmoe-post-meta a .nexmoefont {
    font-size: 14px;
    }
    #nexmoe-content .nexmoe-post .nexmoe-post-meta a:before,
    #nexmoe-content .nexmoe-post .nexmoe-post-meta i:before {
    margin-right: 5px;
    }
    #nexmoe-content .nexmoe-post .nexmoe-post-meta a:nth-child(7n+1) {
    background-color: rgba(255,78,106,0.15);
    color: #ff4e6a;
    }
    #nexmoe-content .nexmoe-post .nexmoe-post-meta a:nth-child(7n+2) {
    background-color: rgba(255,170,115,0.15);
    color: #ffaa73;
    }
    #nexmoe-content .nexmoe-post .nexmoe-post-meta a:nth-child(7n+3) {
    background-color: rgba(254,212,102,0.15);
    color: #fed466;
    }
    #nexmoe-content .nexmoe-post .nexmoe-post-meta a:nth-child(7n+4) {
    background-color: rgba(60,220,130,0.15);
    color: #3cdc82;
    }
    #nexmoe-content .nexmoe-post .nexmoe-post-meta a:nth-child(7n+5) {
    background-color: rgba(100,220,240,0.15);
    color: #64dcf0;
    }
    #nexmoe-content .nexmoe-post .nexmoe-post-meta a:nth-child(7n+6) {
    background-color: rgba(100,185,255,0.15);
    color: #64b9ff;
    }
    #nexmoe-content .nexmoe-post .nexmoe-post-meta a:nth-child(7n+7) {
    background-color: rgba(180,180,255,0.15);
    color: #b4b4ff;
    }
  </style>


    
</aside>
    <div class="nexmoe-copyright">
        &copy; 2022 Shuyan
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
        & <a href="https://github.com/theme-nexmoe/hexo-theme-nexmoe" target="_blank">Nexmoe</a>
        <br><a target="_blank" href=" "><img src="http://mms0.baidu.com/it/u=991445098,3809803602&fm=253&app=138&f=JPEG&fmt=auto&q=75?w=500&h=500" width="100px" ></a><script data-ad-client="ca-pub-2058306854838448" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    </div>
</div><!-- .nexmoe-drawer -->
    </div>
    <div id="nexmoe-content">
        <div class="nexmoe-primary">
            <div class="nexmoe-post">

  <article>
      
          <div class="nexmoe-post-cover" style="padding-bottom: 62.5%;"> 
              <img data-src="http://mms1.baidu.com/it/u=3415945643,371077429&fm=253&app=138&f=JPEG&fmt=auto&q=75?w=708&h=500" data-sizes="auto" alt="常见排序算法" class="lazyload">
              <h1>常见排序算法</h1>
          </div>
      
      
      <div class="nexmoe-post-meta nexmoe-rainbow" style="margin:10px 0!important;">
    <a><i class="nexmoefont icon-calendar-fill"></i>2022年03月24日</a>
</div>

      

      <h2 id="随机生成算法测试"><a href="#随机生成算法测试" class="headerlink" title="随机生成算法测试"></a>随机生成算法测试</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// 自定义SortTestHelper.h</span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">ifndef</span> SELECTIONSORT_SORTTESTHELPER_H</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> SELECTIONSORT_SORTTESTHELPER_H</span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cassert&gt;</span></span><br><br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">namespace</span> SortTestHelper&#123;<br>    <br>    <span class="hljs-comment">// 生成有n个元素的随机数组，每个数组的随机范围为[rangeL, rangeR]</span><br>    <span class="hljs-function"><span class="hljs-keyword">int</span>* <span class="hljs-title">generateRandomArray</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> rangeL, <span class="hljs-keyword">int</span> rangeR)</span></span>&#123;<br>        <br>        <span class="hljs-built_in">assert</span>( rangeL &lt;= rangeR)<br>        <br>        <span class="hljs-comment">// int *arr = new int[n];		// 需要后续使用  delete[] arr</span><br>        <span class="hljs-function">vector&lt;T&gt; <span class="hljs-title">arr</span><span class="hljs-params">(n)</span></span>;<br>        <span class="hljs-built_in">srand</span>(<span class="hljs-built_in">time</span>(<span class="hljs-literal">NULL</span>));				<span class="hljs-comment">// 随机种子</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)&#123;<br>            arr[i] = <span class="hljs-built_in">rand</span>() % (rangeR - rangeL + <span class="hljs-number">1</span>) + rangeL;<br>        &#125;<br>        <span class="hljs-keyword">return</span> arr;<br>    &#125;<br>&#125;<br><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span><br></code></pre></td></tr></table></figure>



<h1 id="O-n-2-级别"><a href="#O-n-2-级别" class="headerlink" title="O(n^2)级别"></a>O(n^2)级别</h1><h2 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">selection_sort</span><span class="hljs-params">(vector&lt;T&gt;&amp; nums, <span class="hljs-keyword">int</span> n)</span></span>&#123;<br>    <span class="hljs-keyword">int</span> mid;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n - <span class="hljs-number">1</span>; ++i)&#123;<br>        mid = i;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt; n; ++j)&#123;<br>            <span class="hljs-keyword">if</span>(nums[j] &lt; nums[mid])&#123;<br>                mid = j;<br>            &#125;<br>        &#125;<br>        <span class="hljs-built_in">swap</span>(nums[mid], nums[i]);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>算法复杂度：O(n^2)</p>
<h2 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">insertion_sort</span><span class="hljs-params">(vector&lt;T&gt;&amp; nums, <span class="hljs-keyword">int</span> n)</span></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; ++i)&#123;<br>        <span class="hljs-comment">// 寻找元素nums[i]合适的插入位置</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i; j &gt; <span class="hljs-number">0</span> &amp;&amp; nums[j] &lt; nums[j - <span class="hljs-number">1</span>]; --j)&#123;<br>            <span class="hljs-built_in">swap</span>(nums[j], nums[j - <span class="hljs-number">1</span>]);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>插入排序在第二重循环之中一直在进行swap操作，导致性能下降。</p>
<p><strong>改进的</strong>插入排序：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">insertion_sort</span><span class="hljs-params">(vector&lt;T&gt;&amp; nums, <span class="hljs-keyword">int</span> n)</span></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; ++i)&#123;<br>        <span class="hljs-comment">// 寻找元素nums[i]合适的插入位置</span><br>        T e = nums[i];<br>        <span class="hljs-keyword">int</span> j;		<span class="hljs-comment">// j 保存元素 e 应该插入的位置</span><br>        <span class="hljs-keyword">for</span>(j = i; j &gt; <span class="hljs-number">0</span> &amp;&amp; nums[j - <span class="hljs-number">1</span>] &gt; e; --j)&#123;<br>            nums[j] = nums[j - <span class="hljs-number">1</span>];<br>        &#125;<br>        nums[j] = e;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>算法复杂度：O(n^2)，对于完全有序的数组排序变为O(n)</p>
<h2 id="希尔排序"><a href="#希尔排序" class="headerlink" title="希尔排序"></a>希尔排序</h2><p>​        先取一个小于n的整数d1作为第一个增量，把文件的全部记录分成d1个组。所有距离为dl的倍数的记录放在同一个组中。先在各组内进行直接插人排序；然后，取第二个增量d2&lt;d1重复上述的分组和排序，直至所取的增量dt=1(dt&lt;dt-l&lt;…&lt;d2&lt;d1)，即所有记录放在同一组中进行直接插入排序为止。</p>
<p>步进方式：gap=gap/3</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">shellSort</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a[],<span class="hljs-keyword">int</span> len)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> insertNum = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">unsigned</span> gap = len/INCRGAP + <span class="hljs-number">1</span>; 			<span class="hljs-comment">// 步长初始化,注意如果当len&lt;INCRGAP时，gap为0，所以为了保证进入循环，gap至少为1！！！</span><br>    <span class="hljs-keyword">while</span>(gap) 									<span class="hljs-comment">// while gap&gt;=1</span><br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">unsigned</span> i = gap; i &lt; len; ++i) 	<span class="hljs-comment">// 分组，在每个子序列中进行插入排序</span><br>        &#123;<br>            insertNum = a[i];					<span class="hljs-comment">//将当前的元素值先存起来方便后面插入</span><br>            <span class="hljs-keyword">unsigned</span> j = i;<br>            <span class="hljs-keyword">while</span> (j &gt;= gap &amp;&amp; insertNum &lt; a[j-gap])<span class="hljs-comment">//寻找插入位置</span><br>            &#123;<br>                a[j] = a[j - gap];<br>                j -= gap;<br>            &#125;<br>            a[j] = insertNum;<br>        &#125;<br>        gap = gap/INCRGAP;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>步进方式：gap=gap/2</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">shellSort</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a[],<span class="hljs-keyword">int</span> len)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> insertNum = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">unsigned</span> gap = len/INCRGAP; 			<span class="hljs-comment">// 步长初始化</span><br>    <span class="hljs-keyword">while</span>(gap) 								<span class="hljs-comment">// while gap&gt;=1</span><br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">unsigned</span> i = gap; i &lt; len; ++i) <span class="hljs-comment">// 分组，在每个子序列中进行插入排序</span><br>        &#123;<br>            insertNum = a[i];				<span class="hljs-comment">//将当前的元素值先存起来方便后面插入</span><br>            <span class="hljs-keyword">unsigned</span> j = i;<br>            <span class="hljs-keyword">while</span> (j &gt;= gap &amp;&amp; insertNum &lt; a[j-gap])<span class="hljs-comment">//寻找插入位置</span><br>            &#123;<br>                a[j] = a[j - gap];<br>                j -= gap;<br>            &#125;<br>            a[j] = insertNum;<br>        &#125;<br>        gap = gap/INCRGAP;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>







<h2 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bubble_sort</span><span class="hljs-params">(vector&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> n)</span></span>&#123;<br>    <span class="hljs-keyword">bool</span> swapped;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; ++i)&#123;<br>        swapped = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt; n - i + <span class="hljs-number">1</span>; ++j)&#123;<br>            <span class="hljs-keyword">if</span>(nums[j], nums[j - <span class="hljs-number">1</span>])&#123;<br>                <span class="hljs-built_in">swap</span>(nums[j], nums[j - <span class="hljs-number">1</span>]);<br>                swapped = <span class="hljs-literal">true</span>;<br>            &#125;<br>        &#125;<br>        <br>        <span class="hljs-keyword">if</span>(!swapped)&#123;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>算法复杂度：O(n^2)</p>
<h1 id="O-nlogn-级别"><a href="#O-nlogn-级别" class="headerlink" title="O(nlogn)级别"></a>O(nlogn)级别</h1><h2 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">merge_sort</span><span class="hljs-params">(vector&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, vector&lt;<span class="hljs-keyword">int</span>&gt;&amp; temp)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(l + <span class="hljs-number">1</span> &gt;= r)&#123;<br>        <span class="hljs-keyword">return</span> ;<br>    &#125;<br>    <br>    <span class="hljs-comment">// divide</span><br>    <span class="hljs-keyword">int</span> m = l + (r - l) / <span class="hljs-number">2</span>;<br>    <span class="hljs-built_in">merge_sort</span>(nums, l, m, temp);<br>    <span class="hljs-built_in">merge_sort</span>(nums, m, r, temp);<br>    <br>    <span class="hljs-comment">// conquer</span><br>    <span class="hljs-keyword">int</span> p = <span class="hljs-number">1</span>, q = m, i = l;<br>    <span class="hljs-keyword">while</span>(p &lt; m || q &lt; r)&#123;<br>        <span class="hljs-keyword">if</span>(q &gt;= r || (p &lt; m &amp;&amp; nums[p] &lt;= nums[q]))&#123;<br>            temp[i++] = nums[p++];<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            temp[i++] = nums[q++];<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>; i &lt; r; ++i)&#123;<br>        nums[i] = temp[i];<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>或者：</p>
<p>使用递归实现自顶向下的归并排序：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">maegeSort</span><span class="hljs-params">(T arr[], <span class="hljs-keyword">int</span> n)</span></span>&#123;<br>    __mergeSort(arr, <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>);<br>&#125;<br><br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">void</span> __mergeSort(T arr[], <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)&#123;<br>    <span class="hljs-keyword">if</span>(l &gt;= r)<br>        <span class="hljs-keyword">return</span>;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">    	优化二：</span><br><span class="hljs-comment">    	if(r - l &lt;= n)&#123;</span><br><span class="hljs-comment">    		insertion_sort();</span><br><span class="hljs-comment">    		return;</span><br><span class="hljs-comment">    	&#125;</span><br><span class="hljs-comment">    </span><br><span class="hljs-comment">    */</span><br>    <br>    <span class="hljs-keyword">int</span> mid = l + (r - l) / <span class="hljs-number">2</span>;<br>    __mergeSort(arr, l, mid);<br>    __mergeSort(arr, mid + <span class="hljs-number">1</span>, r);<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">    	优化：先判断再合并</span><br><span class="hljs-comment">    </span><br><span class="hljs-comment">    */</span><br>    <span class="hljs-keyword">if</span>(arr[mid] &gt; arr[mid+<span class="hljs-number">1</span>])<br>    	__merge(arr, l, mid, r);<br>&#125;<br><br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">void</span> __merge(T arr[], <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> mid, <span class="hljs-keyword">int</span> r)&#123;<br>    T aux[r-l+<span class="hljs-number">1</span>];		<span class="hljs-comment">// 额外的数组空间</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = l; i &lt;= r; ++i)&#123;<br>        aux[i - l] = arr[i];	<span class="hljs-comment">// 有一定的偏移量</span><br>    &#125;<br>    <br>    <span class="hljs-comment">// 设置三个指针----&gt; i、j：已排序子数组的左端；k：aux的左端</span><br>    <span class="hljs-keyword">int</span> i = l, j = mid +<span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k = l; k &lt;= r; ++k)&#123;<br>        <span class="hljs-comment">// 先判断索引是否合法</span><br>        <span class="hljs-keyword">if</span>( i &gt; mid)&#123;<br>            arr[k] = aux[j - l];<br>            j++;<br>        &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(j &gt; r)&#123;<br>            arr[k] = aux[i - l];<br>            i+;+<br>        &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(aux[i-l] &lt; aux[j-l])&#123;<br>            arr[k] = aux[i-l];<br>            i++;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            arr[k] = aux[j-l];<br>            j++;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>或者：</p>
<p>自底向上的归并排序：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">mergeBU</span><span class="hljs-params">(T arr[], <span class="hljs-keyword">int</span> n)</span></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> sz = <span class="hljs-number">1</span>; sz &lt; n; sz += sz)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i + sz &lt; n; i += sz + sz)<br>            <span class="hljs-comment">// 对 arr[i....i+sz-1] 和 arr[i+sz.....i+2*sz-1] 进行归并</span><br>            __merge(arr, i, i + sz - <span class="hljs-number">1</span>; <span class="hljs-built_in">min</span>(i+sz+sz<span class="hljs-number">-1</span>, n<span class="hljs-number">-1</span>));		<span class="hljs-comment">// 考虑i + sz - 1 以及 i + sz + sz - 1时候越界</span><br>&#125;<br><br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">void</span> __merge(T arr[], <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> mid, <span class="hljs-keyword">int</span> r)&#123;<br>    T aux[r-l+<span class="hljs-number">1</span>];		<span class="hljs-comment">// 额外的数组空间</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = l; i &lt;= r; ++i)&#123;<br>        aux[i - l] = arr[i];	<span class="hljs-comment">// 有一定的偏移量</span><br>    &#125;<br>    <br>    <span class="hljs-comment">// 设置三个指针----&gt; i、j：已排序子数组的左端；k：aux的左端</span><br>    <span class="hljs-keyword">int</span> i = l, j = mid +<span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k = l; k &lt;= r; ++k)&#123;<br>        <span class="hljs-comment">// 先判断索引是否合法</span><br>        <span class="hljs-keyword">if</span>( i &gt; mid)&#123;<br>            arr[k] = aux[j - l];<br>            j++;<br>        &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(j &gt; r)&#123;<br>            arr[k] = aux[i - l];<br>            i+;+<br>        &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(aux[i-l] &lt; aux[j-l])&#123;<br>            arr[k] = aux[i-l];<br>            i++;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            arr[k] = aux[j-l];<br>            j++;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>自顶向下的归并排序性能上优于自底向上的归并排序</li>
<li>自底向上的归并非常适合与链表的排序</li>
</ul>
<h2 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h2><p>采用左闭右开的二分写法：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">quick_sort</span><span class="hljs-params">(vector&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(l + <span class="hljs-number">1</span> &gt;= r)&#123;<br>        <span class="hljs-keyword">return</span> ;<br>    &#125;<br>    <br>    <span class="hljs-keyword">int</span> first = l, last = r - <span class="hljs-number">1</span>, key = nums[first];<br>    <span class="hljs-keyword">while</span>(first &lt; last)&#123;<br>        <span class="hljs-keyword">while</span>(first &lt; last &amp;&amp; nums[last] &gt;= key)&#123;<br>            --last;<br>        &#125;<br>        nums[first] = nums[last];<br>        <span class="hljs-keyword">while</span>(first &lt; last &amp;&amp; nums[first] &lt;= key)&#123;<br>            ++first;<br>        &#125;<br>        nums[last] = nums[first];<br>    &#125;<br>    nums[first] = key;<br>    <span class="hljs-built_in">quick_sort</span>(nums, l, first);<br>    <span class="hljs-built_in">quick_sort</span>(nums, first + <span class="hljs-number">1</span>, r);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>或者：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">quickSort</span><span class="hljs-params">(T arr[], <span class="hljs-keyword">int</span> n)</span></span>&#123;<br>    __quickSort(arr, <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>);<br>&#125;<br><br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">void</span> __quickSort(T arr[], <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)&#123;<br>    <span class="hljs-keyword">if</span>(l &gt;= r)<br>        <span class="hljs-keyword">return</span>;<br>    <br>    <span class="hljs-keyword">int</span> p = __partition(arr, l, r);<br>    __quickSort(arr, l, p - <span class="hljs-number">1</span>);<br>    __quickSort(arr, p + <span class="hljs-number">1</span>, r);<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">	对arr[l....r]部分进行partition操作</span><br><span class="hljs-comment">	返回p，使得arr[l....p-1] &lt; arr[p] ; arr[p+1...r] &gt; arr[p]</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">int</span> __partition(T arr[], <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)&#123;<br>    <br>    T v = arr[l];<br>    <br>    <span class="hljs-comment">// arr[l+1....j] &lt; v; arr[j+1....i] &gt; v</span><br>    <span class="hljs-keyword">int</span> j = l;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = l +<span class="hljs-number">1</span>; i &gt;= r; ++i)&#123;<br>        <span class="hljs-keyword">if</span>(arr[i] &lt; v)&#123;<br>            <span class="hljs-built_in">swap</span>( arr[j+<span class="hljs-number">1</span>], arr[i] );l<br>                j++;<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-built_in">swap</span>( arr[l], arr[j] );<br>    <span class="hljs-keyword">return</span> j;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>快速排序最差情况，退化为O(n^2)</p>
<h2 id="随机化快速排序"><a href="#随机化快速排序" class="headerlink" title="随机化快速排序"></a>随机化快速排序</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">quickSort</span><span class="hljs-params">(T arr[], <span class="hljs-keyword">int</span> n)</span></span>&#123;<br>    <br>    <span class="hljs-built_in">srand</span>(<span class="hljs-built_in">time</span>(<span class="hljs-literal">NULL</span>));<br>    __quickSort(arr, <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>);<br>&#125;<br><br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">void</span> __quickSort(T arr[], <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)&#123;<br>    <span class="hljs-keyword">if</span>(l &gt;= r)<br>        <span class="hljs-keyword">return</span>;<br>    <br>    <span class="hljs-keyword">int</span> p = __partition(arr, l, r);<br>    __quickSort(arr, l, p - <span class="hljs-number">1</span>);<br>    __quickSort(arr, p + <span class="hljs-number">1</span>, r);<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">	对arr[l....r]部分进行partition操作</span><br><span class="hljs-comment">	返回p，使得arr[l....p-1] &lt; arr[p] ; arr[p+1...r] &gt; arr[p]</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">int</span> __partition(T arr[], <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)&#123;<br>    <br>    <span class="hljs-built_in">swap</span>( arr[l], arr[<span class="hljs-built_in">rand</span>() % (r-l+<span class="hljs-number">1</span>) + l] );<br>    <br>    T v = arr[l];<br>    <br>    <span class="hljs-comment">// arr[l+1....j] &lt; v; arr[j+1....i] &gt; v</span><br>    <span class="hljs-keyword">int</span> j = l;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = l +<span class="hljs-number">1</span>; i &gt;= r; ++i)&#123;<br>        <span class="hljs-keyword">if</span>(arr[i] &lt; v)&#123;<br>            <span class="hljs-built_in">swap</span>( arr[j+<span class="hljs-number">1</span>], arr[i] );l<br>                j++;<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-built_in">swap</span>( arr[l], arr[j] );<br>    <span class="hljs-keyword">return</span> j;<br>&#125;<br></code></pre></td></tr></table></figure>



<h2 id="双路快速排序算法"><a href="#双路快速排序算法" class="headerlink" title="双路快速排序算法"></a>双路快速排序算法</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">quickSort2Ways</span><span class="hljs-params">(T arr[], <span class="hljs-keyword">int</span> n)</span></span>&#123;<br>    <br>    <span class="hljs-built_in">srand</span>(<span class="hljs-built_in">time</span>(<span class="hljs-literal">NULL</span>));<br>    __quickSort(arr, <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>);<br>&#125;<br><br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">void</span> __quickSort2Ways(T arr[], <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)&#123;<br>    <span class="hljs-keyword">if</span>(l &gt;= r)<br>        <span class="hljs-keyword">return</span>;<br>    <br>    <span class="hljs-keyword">int</span> p = __partition2Ways(arr, l, r);<br>    __quickSort2Ways(arr, l, p - <span class="hljs-number">1</span>);<br>    __quickSort2Ways(arr, p + <span class="hljs-number">1</span>, r);<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">	对arr[l....r]部分进行partition操作</span><br><span class="hljs-comment">	返回p，使得arr[l....p-1] &lt; arr[p] ; arr[p+1...r] &gt; arr[p]</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">int</span> __partition2Ways(T arr[], <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)&#123;<br>    <br>    <span class="hljs-built_in">swap</span>( arr[l], arr[<span class="hljs-built_in">rand</span>() % (r-l+<span class="hljs-number">1</span>) + l] );<br>    <br>    T v = arr[l];<br>    <br>    <span class="hljs-comment">// arr[l+1....i] &lt;= v; arr[j....r] &gt;= v</span><br>    <span class="hljs-keyword">int</span> i = l + <span class="hljs-number">1</span>, j = r;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>)&#123;<br>        <span class="hljs-keyword">while</span>(i &lt;= r &amp;&amp; arr[i] &lt; v)<br>            i++;<br>        <span class="hljs-keyword">while</span>(j &gt;= l &amp;&amp; arr[j] &gt; v)<br>            j--;<br>    &#125;<br>    <br>    <span class="hljs-built_in">swap</span>( arr[l], arr[j] );<br>    <span class="hljs-keyword">return</span> j;<br>    <br>&#125;<br></code></pre></td></tr></table></figure>



<h2 id="三路快速排序"><a href="#三路快速排序" class="headerlink" title="三路快速排序"></a>三路快速排序</h2><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">&gt; v <br>&lt; v<br><span class="hljs-section">= v</span><br></code></pre></td></tr></table></figure>



<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">quickSort3Ways</span><span class="hljs-params">(T arr[], <span class="hljs-keyword">int</span> n)</span></span>&#123;<br>    <br>    <span class="hljs-built_in">srand</span>(<span class="hljs-built_in">time</span>(<span class="hljs-literal">NULL</span>));<br>    __quickSort(arr, <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>);<br>&#125;<br><br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">void</span> __quickSort3Ways(T arr[], <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)&#123;<br>    <span class="hljs-keyword">if</span>(l &gt;= r)<br>        <span class="hljs-keyword">return</span>;<br>    <br>    <span class="hljs-built_in">swap</span>( arr[l], arr[<span class="hljs-built_in">rand</span>() % (r-l+<span class="hljs-number">1</span>) + l] );<br>    T v = arr[l];<br>    <br>    <span class="hljs-keyword">int</span> lt = l;			<span class="hljs-comment">// arr[l+1....lt] &lt; v</span><br>    <span class="hljs-keyword">int</span> gt = r + <span class="hljs-number">1</span>;		<span class="hljs-comment">// arr[gt....r] &gt; v</span><br>    <span class="hljs-keyword">int</span> i = l + <span class="hljs-number">1</span>;		<span class="hljs-comment">// arr[lt+1...i] = v</span><br>    <br>    <span class="hljs-keyword">while</span>(i &lt; gt)&#123;<br>        <span class="hljs-keyword">if</span>(arr[i] &lt; v)&#123;<br>            <span class="hljs-built_in">swap</span>( arr[i], arr[lt + <span class="hljs-number">1</span>] );<br>            lt++;<br>            i++;<br>        &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(arr[i] &gt; v)&#123;<br>            <span class="hljs-built_in">swap</span>( arr[i], arr[gt - <span class="hljs-number">1</span>]);<br>            gt--;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            i++;<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">swap</span>( arr[l], arr[lt]);<br>    <br>    __quickSort3Ways(arr, l, lt - <span class="hljs-number">1</span>);<br>    __quickSort3Ways(arr, gt, r);<br>&#125;<br></code></pre></td></tr></table></figure>















<p>以上排序方法调用为：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sort</span><span class="hljs-params">()</span></span>&#123;<br>    vector&lt;<span class="hljs-keyword">int</span>&gt; nums = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">7</span>,<span class="hljs-number">2</span>,<span class="hljs-number">6</span>,<span class="hljs-number">4</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">2</span>,<span class="hljs-number">8</span>,<span class="hljs-number">7</span>,<span class="hljs-number">6</span>,<span class="hljs-number">0</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">9</span>,<span class="hljs-number">4</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>&#125;;<br>    <span class="hljs-function">vector&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">temp</span><span class="hljs-params">(nums.size())</span></span>;<br>    <span class="hljs-built_in">sort</span>(nums.<span class="hljs-built_in">begin</span>(), nums.<span class="hljs-built_in">end</span>());<br>    <span class="hljs-built_in">quick_sort</span>(nums, <span class="hljs-number">0</span>, nums.<span class="hljs-built_in">size</span>());<br>    <span class="hljs-built_in">merge_sort</span>(nums, <span class="hljs-number">0</span>, nums.<span class="hljs-built_in">size</span>(), temp);<br>    <span class="hljs-built_in">insertion_sort</span>(nums, nums.<span class="hljs-built_in">size</span>());<br>    <span class="hljs-built_in">bubble_sort</span>(nums, nums.<span class="hljs-built_in">size</span>());<br>    <span class="hljs-built_in">selection_sort</span>(nums, nums.<span class="hljs-built_in">size</span>());<br>&#125;<br><br><span class="hljs-comment">// 测试算法性能</span><br><span class="hljs-keyword">clock_t</span> clock1 = <span class="hljs-built_in">clock</span>();<br><span class="hljs-comment">// sort()</span><br><span class="hljs-keyword">clock_t</span> clock2 = <span class="hljs-built_in">clock</span>();<br><br>cout&lt;&lt;<span class="hljs-built_in"><span class="hljs-keyword">double</span></span>(clock2 - clock1) / CLOCKS_PER_SEC&lt;&lt;endl;<br><br></code></pre></td></tr></table></figure>



<ul>
<li>插入排序可以提前终止内层循环，因此效率高于选择排序；插入排序对于近乎有序的数组排序性能更好，当完全有序时，时间复杂度为O(n)；</li>
</ul>

  </article>

  
      
    <div class="nexmoe-post-copyright">
        <strong>Author：</strong>Shuyan<br>
        <strong>Link：</strong><a href="http://example.com/2022/03/24/Leetcode/sort/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/" title="http:&#x2F;&#x2F;example.com&#x2F;2022&#x2F;03&#x2F;24&#x2F;Leetcode&#x2F;sort&#x2F;%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95&#x2F;" target="_blank" rel="noopener">http:&#x2F;&#x2F;example.com&#x2F;2022&#x2F;03&#x2F;24&#x2F;Leetcode&#x2F;sort&#x2F;%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95&#x2F;</a><br>
        
            <strong>版权声明：</strong>本文采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/deed.zh" target="_blank">CC BY-NC-SA 3.0 CN</a> 协议进行许可
        
    </div>


  
  
  <div class="nexmoe-post-meta nexmoe-rainbow">
    
        <a class="nexmoefont icon-appstore-fill -link" href="/categories/Leetcode/">Leetcode</a><a class="nexmoefont icon-appstore-fill -link" href="/categories/Leetcode/sort/">sort</a>
    
    
        <a class="nexmoefont icon-tag-fill -none-link" href="/tags/Leetcode/" rel="tag">Leetcode</a>
    
</div>

  
      <div class="nexmoe-post-footer">
          <section class="nexmoe-comment">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.css">
<div id="gitalk"></div>
<script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script>
<script type="text/javascript">
    var gitalk = new Gitalk({
        clientID: '80b2453b6d5f37ad6225',
        clientSecret: '43e99fa852795c9a7b3eb924b2558c64b84bbdeb',
        id: window.location.pathname,
        repo: 'nexmoe.github.io',
        owner: 'nexmoe',
        admin: 'nexmoe'
    })
    gitalk.render('gitalk')
</script>
</section>
      </div>
  
</div>
            <div class="nexmoe-post-right">
              <div class="nexmoe-fixed">
                  <div class="nexmoe-tool"> 
                    
                      
                        
                          
                          
                              <button class="mdui-fab catalog" style="overflow:unset;">
                                  <i class="nexmoefont icon-i-catalog"></i>
                                  <div class="nexmoe-toc">
                                      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E7%94%9F%E6%88%90%E7%AE%97%E6%B3%95%E6%B5%8B%E8%AF%95"><span class="toc-number">1.</span> <span class="toc-text">随机生成算法测试</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#O-n-2-%E7%BA%A7%E5%88%AB"><span class="toc-number"></span> <span class="toc-text">O(n^2)级别</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F"><span class="toc-number">1.</span> <span class="toc-text">选择排序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F"><span class="toc-number">2.</span> <span class="toc-text">插入排序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F"><span class="toc-number">3.</span> <span class="toc-text">希尔排序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F"><span class="toc-number">4.</span> <span class="toc-text">冒泡排序</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#O-nlogn-%E7%BA%A7%E5%88%AB"><span class="toc-number"></span> <span class="toc-text">O(nlogn)级别</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F"><span class="toc-number">1.</span> <span class="toc-text">归并排序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F"><span class="toc-number">2.</span> <span class="toc-text">快速排序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9A%8F%E6%9C%BA%E5%8C%96%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F"><span class="toc-number">3.</span> <span class="toc-text">随机化快速排序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8C%E8%B7%AF%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95"><span class="toc-number">4.</span> <span class="toc-text">双路快速排序算法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E8%B7%AF%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F"><span class="toc-number">5.</span> <span class="toc-text">三路快速排序</span></a></li></ol>
                                  </div>
                              </button>
                          
                          
                      
                    
                      <a href="#nexmoe-content" class="toc-link" aria-label="回到顶部" title="top"><button class="mdui-fab mdui-ripple"><i class="nexmoefont icon-caret-top"></i></button></a>
                  </div>
              </div>
            </div>
        </div>
    </div>
     
    <div id="nexmoe-search-space">
        <div class="search-container">
            <div class="search-header">
                <div class="search-input-container">
                    <input class="search-input" type="text" placeholder="Search" oninput="sinput();">
                </div>
                <a class="search-close" onclick="sclose();">×</a>
            </div>
            <div class="search-body"></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/combine/npm/lazysizes@5.1.0/lazysizes.min.js,npm/mdui@0.4.3/dist/js/mdui.min.js?v=1"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

 

<script async src="/js/app.js?v=1648908934931"></script>



<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js"></script>
<script>
	$(".justified-gallery").justifiedGallery({
		rowHeight: 160,
		margins: 10,
	});
</script>


    





    <!-- baidu Analytics -->
<script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?0a7e154da92f76d05c83b48cbab331da#&lt;ID&gt;';
    var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

</body>

</html>
